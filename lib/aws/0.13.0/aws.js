/*! For license information please see aws.js.LICENSE.txt */
(()=>{"use strict";var t={2:(t,e,r)=>{r.d(e,{R:()=>s});var n=r(556),o=r(539);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function c(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var s=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"awsConfig",void 0),c(this,"serviceName",void 0),c(this,"baseRequestParams",{responseType:"text"}),c(this,"_endpoint",void 0),this.awsConfig=e,this.serviceName=r,null!=e.endpoint&&(this._endpoint=e.endpoint)},e=[{key:"endpoint",get:function(){return null==this._endpoint&&(this._endpoint=new n.y("https://".concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"))),this._endpoint},set:function(t){this._endpoint=t}},{key:"handleError",value:function(t,e){var r=t.status,n=t.error_code,i=t.error;if(r>=200&&r<300&&""==i&&0===n)return!1;switch(n){case o.rN.GenericError:case o.rN.NonTCPNetworkError:case o.rN.InvalidURL:case o.rN.HTTPRequestTimeout:throw new o.$g(n);case o.yk.GenericDNSError:case o.yk.NoIPFound:case o.yk.BlacklistedIP:case o.yk.BlacklistedHostname:throw new o.M8(n);case o.op.GenericTCPError:case o.op.BrokenPipeOnWrite:case o.op.UnknownTCPError:case o.op.GeneralTCPDialError:case o.op.DialTimeoutError:case o.op.DialConnectionRefused:case o.op.DialUnknownError:case o.op.ResetByPeer:throw new o.km(n);case o.cK.GeneralTLSError:case o.cK.UnknownAuthority:case o.cK.CertificateHostnameMismatch:throw new o.ML(n);case o.F9.GenericHTTP2Error:case o.F9.GeneralHTTP2GoAwayError:throw new o.v1(n)}return!0}}],e&&a(t.prototype,e),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},811:(t,e,r)=>{r.d(e,{g:()=>d,r:()=>v});var n=r(556);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,r){return e=s(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(c())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&u(o,r.prototype),o}(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},a(t)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function h(t,e,r){return e&&f(t.prototype,e),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var d=function(){function t(e){if(l(this,t),p(this,"region",void 0),p(this,"accessKeyId",void 0),p(this,"secretAccessKey",void 0),p(this,"sessionToken",void 0),p(this,"endpoint",void 0),!e.region||""===e.region)throw new v('invalid AWS region; reason: expected a valid AWS region name (e.g. "us-east-1"), got `'.concat(e.region,"`"));if(!e.accessKeyId||""===e.accessKeyId)throw new v("invalid AWS access key ID; reason: expected a non empty string, got `".concat(e.accessKeyId,"`"));if(e.accessKeyId.length<16||e.accessKeyId.length>128)throw new v("invalid AWS access key ID; reason: size should be between 16 and 128 characters, got ".concat(e.accessKeyId.length));if(!e.secretAccessKey||""===e.secretAccessKey)throw new v("invalid AWS secret access key; reason: expected a non empty string, got `".concat(e.secretAccessKey,"`"));this.region=e.region,this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,void 0!==e.sessionToken&&(this.sessionToken=e.sessionToken),void 0!==e.endpoint&&("string"==typeof e.endpoint?this.endpoint=new n.y(e.endpoint):this.endpoint=e.endpoint)}return h(t,null,[{key:"fromEnvironment",value:function(e){return new t({region:__ENV.AWS_REGION,accessKeyId:__ENV.AWS_ACCESS_KEY_ID,secretAccessKey:__ENV.AWS_SECRET_ACCESS_KEY,sessionToken:__ENV.AWS_SESSION_TOKEN,endpoint:null==e?void 0:e.endpoint})}}])}(),v=function(t){function e(t){return l(this,e),i(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),h(e)}(a(Error))},464:(t,e,r)=>{r.d(e,{Kq:()=>o,Qt:()=>u,Qz:()=>w,SN:()=>g,Uv:()=>O,V1:()=>p,VQ:()=>b,Zs:()=>i,_e:()=>E,b2:()=>l,fk:()=>y,he:()=>a,iK:()=>s,ot:()=>f,pj:()=>v,sY:()=>h,ud:()=>d,wN:()=>n,z8:()=>S,zG:()=>c,zX:()=>m});var n="X-Amz-Algorithm",o="X-Amz-Credential",i="X-Amz-Date",a="X-Amz-Expires",c="X-Amz-Signature",u="X-Amz-SignedHeaders",s="X-Amz-Security-Token",l="x-amz-content-sha256",f=i.toLowerCase(),h=c.toLowerCase(),p="X-Amz-Target".toLowerCase(),y=s.toLowerCase(),d="authorization",v=[d,f,"date"],m="host",g={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b="aws4_request",w="AWS4-HMAC-SHA256",O=604800,E="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",S="UNSIGNED-PAYLOAD"},556:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function c(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{y:()=>s});var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"_protocol",void 0),c(this,"_hostname",void 0),c(this,"_port",void 0);var r=!e.startsWith("http://")&&!e.startsWith("https://")?"".concat(t.DEFAULT_PROTOCOL,"://").concat(e):e,n=r.match(/^https?:/),i=o(r.replace(/^https?:\/\//,"").split("/"),1)[0];this._protocol=n?n[0].slice(0,-1):t.DEFAULT_PROTOCOL,this._hostname=i.split(":")[0],this._port=i.split(":")[1]?parseInt(i.split(":")[1]):void 0}return e=t,(r=[{key:"copy",value:function(){return new t(this.href)}},{key:"host",get:function(){return this._port?"".concat(this._hostname,":").concat(this._port):this._hostname},set:function(t){var e=o(t.split(":"),2),r=e[0],n=e[1];this._hostname=r,this._port=n?parseInt(n):void 0}},{key:"hostname",get:function(){return this._hostname},set:function(t){this._hostname=t}},{key:"href",get:function(){return"".concat(this.protocol,"://").concat(this.host)},set:function(e){var r=e.match(/^https?:/),n=o(e.replace(/^https?:\/\//,"").split("/"),1)[0];this._protocol=r?r[0].slice(0,-1):t.DEFAULT_PROTOCOL,this._hostname=n.split(":")[0],this._port=n.split(":")[1]?parseInt(n.split(":")[1]):void 0}},{key:"port",get:function(){return this._port},set:function(t){this._port=t}},{key:"protocol",get:function(){return this._protocol},set:function(t){this._protocol=t}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();c(s,"DEFAULT_PROTOCOL","https")},539:(t,e,r)=>{r.d(e,{$g:()=>b,Dr:()=>g,F9:()=>k,M8:()=>w,ML:()=>E,cK:()=>_,cv:()=>m,km:()=>O,op:()=>x,rN:()=>j,v1:()=>S,yk:()=>P});var n,o=r(95);function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,v(n.key),n)}}function u(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function s(t,e,r){return e=y(e),function(t,e){if(e&&("object"==i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,h()?Reflect.construct(e,r||[],y(t).constructor):e.apply(t,r))}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(h())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&p(o,r.prototype),o}(t,arguments,y(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,t)},f(t)}function h(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(h=function(){return!!t})()}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},y(t)}function d(t,e,r){return(e=v(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v(t){var e=function(t,e){if("object"!=i(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==i(e)?e:e+""}var m=function(t){function e(t,r){var n;return a(this,e),d(n=s(this,e,[t]),"code",void 0),n.name="AWSError",n.code=r,n}return l(e,t),u(e,null,[{key:"parseXML",value:function(t){var r=(0,o.parseHTML)(t);return new e(r.find("Message").text(),r.find("Code").text())}},{key:"parse",value:function(t){if("application/json"===t.headers["Content-Type"]){var r=t.json()||{};return new e(r.Message||r.message||r.__type||"An error occurred on the server side",t.headers["X-Amzn-Errortype"]||r.__type)}return e.parseXML(t.body)}}])}(f(Error)),g=function(t){function e(t,r){var n;return a(this,e),d(n=s(this,e,[T[r]||"An unknown error occurred"]),"code",void 0),d(n,"name",void 0),n.name=t,n.code=r,n}return l(e,t),u(e)}(f(Error)),b=function(t){function e(t){return a(this,e),s(this,e,["GeneralError",t])}return l(e,t),u(e)}(g),w=function(t){function e(t){return a(this,e),s(this,e,["DNSError",t])}return l(e,t),u(e)}(g),O=function(t){function e(t){return a(this,e),s(this,e,["TCPError",t])}return l(e,t),u(e)}(g),E=function(t){function e(t){return a(this,e),s(this,e,["TLSError",t])}return l(e,t),u(e)}(g),S=function(t){function e(t){return a(this,e),s(this,e,["HTTP2Error",t])}return l(e,t),u(e)}(g),j=function(t){return t[t.GenericError=1e3]="GenericError",t[t.NonTCPNetworkError=1010]="NonTCPNetworkError",t[t.InvalidURL=1020]="InvalidURL",t[t.HTTPRequestTimeout=1050]="HTTPRequestTimeout",t}({}),P=function(t){return t[t.GenericDNSError=1100]="GenericDNSError",t[t.NoIPFound=1101]="NoIPFound",t[t.BlacklistedIP=1110]="BlacklistedIP",t[t.BlacklistedHostname=1111]="BlacklistedHostname",t}({}),x=function(t){return t[t.GenericTCPError=1200]="GenericTCPError",t[t.BrokenPipeOnWrite=1201]="BrokenPipeOnWrite",t[t.UnknownTCPError=1202]="UnknownTCPError",t[t.GeneralTCPDialError=1210]="GeneralTCPDialError",t[t.DialTimeoutError=1211]="DialTimeoutError",t[t.DialConnectionRefused=1212]="DialConnectionRefused",t[t.DialUnknownError=1213]="DialUnknownError",t[t.ResetByPeer=1220]="ResetByPeer",t}({}),_=function(t){return t[t.GeneralTLSError=1300]="GeneralTLSError",t[t.UnknownAuthority=1310]="UnknownAuthority",t[t.CertificateHostnameMismatch=1311]="CertificateHostnameMismatch",t}({}),k=function(t){return t[t.GenericHTTP2Error=1600]="GenericHTTP2Error",t[t.GeneralHTTP2GoAwayError=1610]="GeneralHTTP2GoAwayError",t}({}),T=(d(d(d(d(d(d(d(d(d(d(n={},j.GenericError,"A generic error that isn’t any of the ones listed below"),j.NonTCPNetworkError,"A non-TCP network error - this is a placeholder and there is no error currently known to trigger it"),j.InvalidURL,"An invalid URL was specified"),j.HTTPRequestTimeout,"The HTTP request has timed out"),P.GenericDNSError,"A generic DNS error that isn’t any of the ones listed below"),P.NoIPFound,"No IP for the provided host was found"),P.BlacklistedIP,"Blacklisted IP was resolved or a connection to such was tried to be established"),P.BlacklistedHostname,"Blacklisted hostname using The Block Hostnames option"),x.GenericTCPError,"A generic TCP error that isn’t any of the ones listed below"),x.BrokenPipeOnWrite,"A “broken pipe” on write - the other side has likely closed the connection"),d(d(d(d(d(d(d(d(d(d(n,x.UnknownTCPError,"An unknown TCP error - We got an error that we don’t recognize but it is from the operating system and has errno set on it. The message in error includes the operation(write,read) and the errno, the OS, and the original message of the error"),x.GeneralTCPDialError,"General TCP dial error"),x.DialTimeoutError,"Dial timeout error - the timeout for the dial was reached"),x.DialConnectionRefused,"Dial connection refused - the connection was refused by the other party on dial"),x.DialUnknownError,"Dial unknown error"),x.ResetByPeer,"Reset by peer - the connection was reset by the other party, most likely a server"),_.GeneralTLSError,"General TLS error"),_.UnknownAuthority,"Unknown authority - the certificate issuer is unknown"),_.CertificateHostnameMismatch,"The certificate doesn’t match the hostname"),k.GenericHTTP2Error,"A generic HTTP/2 error that isn’t any of the ones listed below"),d(n,k.GeneralHTTP2GoAwayError,"A general HTTP/2 GoAway error"))},21:(t,e,r)=>{function n(t,e){t=t.toLowerCase();for(var r=0,n=Object.keys(e);r<n.length;r++){if(t===n[r].toLowerCase())return!0}return!1}r.d(e,{o:()=>n})},639:(t,e,r)=>{r.d(e,{B:()=>S,s:()=>j});var n=r(275),o=r.n(n),i=r(464),a=r(539),c=r(21),u=r(680);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e,r){return e=h(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,r||[],h(t).constructor):e.apply(t,r))}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return d(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function w(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var S=function(){return w((function t(e){var r=e.service,n=e.region,o=e.credentials,i=e.uriEscapePath,a=e.applyChecksum;g(this,t),O(this,"service",void 0),O(this,"region",void 0),O(this,"credentials",void 0),O(this,"uriEscapePath",void 0),O(this,"applyChecksum",void 0),this.service=r,this.region=n,this.credentials=o,this.uriEscapePath="boolean"!=typeof i||i,this.applyChecksum="boolean"!=typeof a||a}),[{key:"sign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m(m({},{signingDate:new Date,unsignableHeaders:new Set,signableHeaders:new Set}),e),n=x(r.signingDate),o=n.longDate,a=n.shortDate,u=r.signingService||this.service,s=r.signingRegion||this.region,l="".concat(a,"/").concat(s,"/").concat(u,"/").concat(i.VQ);t.headers[i.zX]||(t.headers[i.zX]=t.endpoint.hostname);for(var f=0,h=Object.keys(t.headers);f<h.length;f++){var p=h[f];i.pj.indexOf(p.toLowerCase())>-1&&delete t.headers[p]}t.headers[i.ot]=o,this.credentials.sessionToken&&(t.headers[i.fk]=this.credentials.sessionToken),ArrayBuffer.isView(t.body)&&(t.body=t.body.buffer),t.body||(t.body="");var y=this.computePayloadHash(t);!(0,c.o)(i.b2,t.headers)&&this.applyChecksum&&(t.headers[i.b2]=y);var d=this.computeCanonicalHeaders(t,r.unsignableHeaders,r.signableHeaders),v=this.calculateSignature(o,l,this.deriveSigningKey(this.credentials,u,s,a),this.createCanonicalRequest(t,d,y));t.headers[i.ud]="".concat(i.Qz," ")+"Credential=".concat(this.credentials.accessKeyId,"/").concat(l,", ")+"SignedHeaders=".concat(Object.keys(d).sort().join(";"),", ")+"Signature=".concat(v);var g=t.endpoint.href;return t.path&&(g.endsWith("/")||t.path.startsWith("/")||(g+="/"),g+=t.path),t.query&&(g+="?".concat(this.serializeQueryParameters(t.query))),m({url:g},t)}},{key:"presign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.signingDate,n=void 0===r?new Date:r,o=e.expiresIn,a=void 0===o?3600:o,c=e.unsignableHeaders,u=e.unhoistableHeaders,s=e.signableHeaders,l=e.signingRegion,f=e.signingService,h=x(n),p=h.longDate,y=h.shortDate,d=l||this.region,v=f||this.service;if(a>i.Uv)throw new j("Signature version 4 presigned URLs can't be valid for more than 7 days");var g="".concat(y,"/").concat(d,"/").concat(v,"/").concat(i.VQ),b=this.moveHeadersToQuery(t,{unhoistableHeaders:u});b.headers[i.zX]||(b.headers[i.zX]=t.endpoint.hostname),this.credentials.sessionToken&&(b.query[i.iK]=this.credentials.sessionToken),b.query[i.wN]=i.Qz,b.query[i.Kq]="".concat(this.credentials.accessKeyId,"/").concat(g),b.query[i.Zs]=p,b.query[i.he]=a.toString(10);var w=this.computeCanonicalHeaders(b,c,s);b.query[i.Qt]=Object.keys(w).sort().join(";");var O=this.deriveSigningKey(this.credentials,v,d,y),E=this.computePayloadHash(t),S=this.createCanonicalRequest(b,w,E);b.query[i.zG]=this.calculateSignature(p,g,O,S);var P,_=t.endpoint.href;b.path&&(_=null!==(P=_)&&void 0!==P&&P.endsWith("/")?_:_+"/",_+=b.path);return b.query&&(_+="?".concat(this.serializeQueryParameters(b.query))),m({url:_},b)}},{key:"createCanonicalRequest",value:function(t,e,r){var n=Object.keys(e).sort(),o=n.map((function(t){return"".concat(t,":").concat(e[t])})).join("\n"),i=n.join(";");return"".concat(t.method,"\n")+"".concat(this.computeCanonicalURI(t),"\n")+"".concat(this.computeCanonicalQuerystring(t),"\n")+"".concat(o,"\n\n")+"".concat(i,"\n")+"".concat(r)}},{key:"createStringToSign",value:function(t,e,r){var n=o().sha256(r,"hex");return"".concat(i.Qz,"\n")+"".concat(t,"\n")+"".concat(e,"\n")+"".concat(n)}},{key:"calculateSignature",value:function(t,e,r,n){var i=this.createStringToSign(t,e,n);return o().hmac("sha256",r,i,"hex")}},{key:"deriveSigningKey",value:function(t,e,r,n){var i=t.secretAccessKey,a=o().hmac("sha256","AWS4"+i,n,"binary"),c=o().hmac("sha256",a,r,"binary"),u=o().hmac("sha256",c,e,"binary");return o().hmac("sha256",u,"aws4_request","binary")}},{key:"computeCanonicalURI",value:function(t){var e=t.path;if(this.uriEscapePath){var r,n=[],o=y(e.split("/"));try{for(o.s();!(r=o.n()).done;){var i=r.value;0!==(null==i?void 0:i.length)&&("."!==i&&(".."===i?n.pop():n.push(i)))}}catch(t){o.e(t)}finally{o.f()}var a=null!=e&&e.startsWith("/")?"/":"",c=n.join("/"),u=n.length>0&&null!=e&&e.endsWith("/")?"/":"",s="".concat(a).concat(c).concat(u);return encodeURIComponent(s).replace(/%2F/g,"/")}return e}},{key:"computeCanonicalQuerystring",value:function(t){var e,r=t.query,n=void 0===r?{}:r,o=[],a={},c=function(t){if(t.toLowerCase()===i.sY)return 1;o.push(t);var e=n[t];"string"==typeof e?a[t]="".concat(P(t),"=").concat(P(e)):Array.isArray(e)&&(a[t]=e.slice(0).sort().reduce((function(e,r){return e.concat(["".concat(P(t),"=").concat(P(r))])}),[]).join("&"))},u=y(Object.keys(n).sort());try{for(u.s();!(e=u.n()).done;){c(e.value)}}catch(t){u.e(t)}finally{u.f()}return o.map((function(t){return a[t]})).filter((function(t){return t})).join("&")}},{key:"computeCanonicalHeaders",value:function(t,e,r){var n,o=t.headers,a={},c=y(Object.keys(o).sort());try{for(c.s();!(n=c.n()).done;){var u=n.value;if(null!=o[u]){var s=u.toLowerCase();(s in i.SN||null!=e&&e.has(s))&&(!r||r&&!r.has(s))||"string"==typeof o[u]&&(a[s]=o[u]=o[u].trim().replace(/\s+/g," "))}}}catch(t){c.e(t)}finally{c.f()}return a}},{key:"computePayloadHash",value:function(t){var e=t.headers,r=t.body;return e[i.b2]?e[i.b2]:null==r?i._e:"string"==typeof r||(0,u.m)(r)?o().sha256(r,"hex").toLowerCase():ArrayBuffer.isView(r)?o().sha256(r.buffer,"hex").toLowerCase():i.z8}},{key:"moveHeadersToQuery",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.parse(JSON.stringify(t)),n=r.headers,o=r.query,i=void 0===o?{}:o,a=0,c=Object.keys(n);a<c.length;a++){var u,s=c[a],l=s.toLowerCase();"x-amz-"!==l.slice(0,6)||null!==(u=e.unhoistableHeaders)&&void 0!==u&&u.has(l)||(i[s]=n[s],delete n[s])}return m(m({},r),{},{headers:n,query:i})}},{key:"serializeQueryParameters",value:function(t,e){var r,n=[],o={},i=function(r){if(null!=e&&e.includes(r.toLowerCase()))return 1;n.push(r);var i=t[r];"string"==typeof i?o[r]="".concat(P(r),"=").concat(P(i)):Array.isArray(i)&&(o[r]=i.slice(0).sort().reduce((function(t,e){return t.concat(["".concat(P(r),"=").concat(P(e))])}),[]).join("&"))},a=y(Object.keys(t).sort());try{for(a.s();!(r=a.n()).done;){i(r.value)}}catch(t){a.e(t)}finally{a.f()}return n.map((function(t){return o[t]})).filter((function(t){return t})).join("&")}}])}(),j=function(t){function e(t,r){var n;return g(this,e),(n=l(this,e,[t,r])).name="InvalidSignatureError",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),w(e)}(a.cv);function P(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}function x(t){var e,r=(e=t,function(t){return"number"==typeof t?new Date(1e3*t):"string"==typeof t?Number(t)?new Date(1e3*Number(t)):new Date(t):t}(e).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}},680:(t,e,r)=>{function n(t){return"function"==typeof ArrayBuffer&&(t instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(t))}r.d(e,{m:()=>n})},340:(t,e,r)=>{r.d(e,{LambdaClient:()=>k,LambdaInvocationError:()=>T});r(811);var n=r(539),o=r(639),i=r(570),a=r.n(i);const c=require("k6/encoding");var u=r.n(c),s=r(2),l=r(464);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(O())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&P(o,r.prototype),o}(t,arguments,S(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),P(r,t)},h(t)}function p(){p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new R(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function O(){}var E={};s(E,a,(function(){return this}));var S=Object.getPrototypeOf,j=S&&S(S(C([])));j&&j!==r&&n.call(j,a)&&(E=j);var P=O.prototype=b.prototype=Object.create(E);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=h(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==f(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(f(e)+" is not iterable")}return w.prototype=O,o(P,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},x(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(P),s(P,u,"Generator"),s(P,a,(function(){return this})),s(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function b(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return e=S(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(null,arguments)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function x(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}var k=function(t){function e(t){var r;return m(this,e),x(r=w(this,e,[t,"lambda"]),"signature",void 0),x(r,"commonHeaders",void 0),x(r,"method",void 0),r.signature=new o.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return j(e,t),b(e,[{key:"invoke",value:(r=p().mark((function t(e,r){var n,o,i,c,s,f,h,y,v,m=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},i=(n=m.length>2&&void 0!==m[2]?m[2]:{}).invocationType||"RequestResponse",c=d(d({},this.commonHeaders),{},x(x(x({},l.V1,"AWSLambda.".concat(i)),"X-Amz-Invocation-Type",i),"X-Amz-Log-Type",n.logType||"None")),n.clientContext&&(c["X-Amz-Client-Context"]=n.clientContext),n.qualifier&&(o.Qualifier=n.qualifier),s=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/2015-03-31/functions/".concat(e,"/invocations"),query:o,headers:c,body:r||""},{}),t.next=9,a().asyncRequest(this.method,s.url,s.body,d(d({},this.baseRequestParams),{},{headers:s.headers}));case 9:if(f=t.sent,this.handleError(f),h=f.headers["X-Amz-Log-Result"],y={executedVersion:f.headers["X-Amz-Executed-Version"],logResult:h?u().b64decode(h,"std","s"):void 0,statusCode:f.status,payload:f.body},!(v=f.headers["X-Amz-Function-Error"])){t.next=18;break}throw new T(v,y);case 18:return t.abrupt("return",y);case 19:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){v(i,n,o,a,c,"next",t)}function c(t){v(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t,e){return i.apply(this,arguments)})},{key:"handleError",value:function(t,r){var i,a,c,u,s;if(!(i=e,a="handleError",c=this,s=E(S(1&(u=3)?i.prototype:i),a,c),2&u?function(t){return s.apply(c,t)}:s)([t,r]))return!1;var l=n.cv.parse(t);switch(l.code){case"AuthorizationHeaderMalformed":case"InvalidSignatureException":throw new o.s(l.message,l.code);default:throw l}return!0}}]);var r,i}(s.R),T=function(t){function e(t,r){var n;return m(this,e),x(n=w(this,e,["".concat(t,": ").concat(r.payload)]),"response",void 0),n.response=r,n}return j(e,t),b(e)}(h(Error))},535:(t,e,r)=>{r.d(e,{SQSClient:()=>k});r(811);var n=r(539),o=r(639),i=r(2),a=r(570),c=r.n(a),u=r(464);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return f(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new R(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function O(){}var E={};l(E,a,(function(){return this}));var S=Object.getPrototypeOf,j=S&&S(S(C([])));j&&j!==r&&n.call(j,a)&&(E=j);var P=O.prototype=b.prototype=Object.create(E);function x(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==s(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=O,o(P,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},x(_.prototype),l(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(P),l(P,u,"Generator"),l(P,a,(function(){return this})),l(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function b(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return e=S(e),function(t,e){if(e&&("object"==s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(null,arguments)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function x(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var k=function(t){function e(t){var r;return m(this,e),x(r=w(this,e,[t,"sqs"]),"signature",void 0),x(r,"commonHeaders",void 0),x(r,"serviceVersion",void 0),r.serviceVersion="AmazonSQS",r.signature=new o.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!0}),r.commonHeaders={"Content-Type":"application/x-amz-json-1.0"},r}return j(e,t),b(e,[{key:"sendMessage",value:(a=v(h().mark((function t(e,r){var n,o,i,a,c=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>2&&void 0!==c[2]?c[2]:{},o=y({QueueUrl:e},this._combineQueueMessageBodyAndOptions(r,n)),t.next=5,this._sendRequest("SendMessage",o);case 5:return i=t.sent,a=i.json(),t.abrupt("return",new T(a.MessageId,a.MD5OfMessageBody));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"sendMessageBatch",value:(i=v(h().mark((function t(e,r){var n,o,i,a,c,u,s,l=this;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="SendMessageBatch",o=r.map((function(t){var e=l._combineQueueMessageBodyAndOptions(t.messageBody,t.messageOptions);return e=y(y({},e),{},{Id:t.messageId})})),i={QueueUrl:e,Entries:o},t.next=5,this._sendRequest(n,i);case 5:return a=t.sent,c=a.json(),u=c.Successful||[],s=c.Failed||[],t.abrupt("return",{successful:u.map((function(t){return new T(t.MessageId,t.MD5OfMessageBody)})),failed:s.map((function(t){return new L(t.Message,t.Code,n)}))});case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"listQueues",value:(n=v(h().mark((function t(){var e,r,n,o,i=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},void 0!==(null==(e=i.length>0&&void 0!==i[0]?i[0]:{})?void 0:e.maxResults)&&(r=y(y({},r),{},{MaxResults:e.maxResults})),void 0!==(null==e?void 0:e.nextToken)&&(r=y(y({},r),{},{NextToken:e.nextToken})),void 0!==(null==e?void 0:e.queueNamePrefix)&&(r=y(y({},r),{},{QueueNamePrefix:e.queueNamePrefix})),t.next=8,this._sendRequest("ListQueues",r);case 8:return n=t.sent,o=n.json(),t.abrupt("return",{urls:o.QueueUrls,nextToken:null==o?void 0:o.NextToken});case 11:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"_combineQueueMessageBodyAndOptions",value:function(t,e){var r={MessageBody:t};if(void 0===e)return r;if(void 0!==e.messageDeduplicationId&&(r=y(y({},r),{},{MessageDeduplicationId:e.messageDeduplicationId})),void 0!==e.messageGroupId&&(r=y(y({},r),{},{MessageGroupId:e.messageGroupId})),void 0!==e.messageAttributes){for(var n={},o=0,i=Object.entries(e.messageAttributes);o<i.length;o++){var a=l(i[o],2),c=a[0],u=a[1],s="Binary"===u.type?"BinaryValue":"StringValue";n[c]={DataType:u.type},n[c][s]=u.value}r=y(y({},r),{},{MessageAttributes:n})}return void 0!==e.delaySeconds&&(r=y(y({},r),{},{DelaySeconds:e.delaySeconds})),r}},{key:"_sendRequest",value:(r=v(h().mark((function t(e,r){var n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"POST",endpoint:this.endpoint,path:"/",headers:y(y({},this.commonHeaders),{},x({},u.V1,"".concat(this.serviceVersion,".").concat(e))),body:JSON.stringify(r)},{}),t.next=3,c().asyncRequest("POST",n.url,n.body,y(y({},this.baseRequestParams),{},{headers:n.headers}));case 3:return o=t.sent,this._handleError(e,o),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"_handleError",value:function(t,e){if(0!==e.error_code){var r=e.json(),n=r.Message||r.message||r.__type;if("InvalidSignatureException"===r.__type)throw new o.s(n,r.__type);throw new L(n,r.__type,t)}}},{key:"handleError",value:function(t,r){var n,i,a,c,u;if(!(n=e,i="handleError",a=this,u=E(S(1&(c=3)?n.prototype:n),i,a),2&c?function(t){return u.apply(a,t)}:u)([t]))return!1;if(0===t.error_code)return!1;var s=t.json(),l=s.Message||s.message||s.__type;if("InvalidSignatureException"===s.__type)throw new o.s(l,s.__type);throw new L(l,s.__type,r)}}]);var r,n,i,a}(i.R),T=b((function t(e,r){m(this,t),x(this,"id",void 0),x(this,"bodyMD5",void 0),this.id=e,this.bodyMD5=r})),L=function(t){function e(t,r,n){var o;return m(this,e),x(o=w(this,e,[t,r]),"operation",void 0),o.name="SQSServiceError",o.operation=n,o}return j(e,t),b(e)}(n.cv)},275:t=>{t.exports=require("k6/crypto")},95:t=>{t.exports=require("k6/html")},570:t=>{t.exports=require("k6/http")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};r.r(n),r.d(n,{AMZ_CONTENT_SHA256_HEADER:()=>c.b2,AWSConfig:()=>a.g,AWSError:()=>o.cv,DNSError:()=>o.M8,Endpoint:()=>A.y,EventBridgeClient:()=>qe,GeneralError:()=>o.$g,HTTP2Error:()=>o.v1,InvalidAWSConfigError:()=>a.r,InvalidSignatureError:()=>i.s,KMSClient:()=>k,KMSDataKey:()=>L,KMSServiceError:()=>N,KinesisClient:()=>fe,LambdaClient:()=>He.LambdaClient,LambdaInvocationError:()=>He.LambdaInvocationError,NetworkError:()=>o.Dr,S3Bucket:()=>tt,S3Client:()=>Z,S3Object:()=>et,S3ServiceError:()=>ot,SQSClient:()=>Jt.SQSClient,Secret:()=>jt,SecretsManagerClient:()=>St,SecretsManagerServiceError:()=>Pt,SignatureV4:()=>i.B,SystemsManagerClient:()=>Ut,SystemsManagerParameter:()=>zt,SystemsManagerServiceError:()=>Ft,TCPError:()=>o.km,TLSError:()=>o.ML,UNSIGNED_PAYLOAD:()=>c.z8});var o=r(539),i=r(639),a=r(811),c=r(464),u=r(570),s=r.n(u),l=r(2);function f(t){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f(t)}function h(){h=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof b?e:b,a=Object.create(i.prototype),c=new R(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",g={};function b(){}function w(){}function O(){}var E={};s(E,a,(function(){return this}));var S=Object.getPrototypeOf,j=S&&S(S(C([])));j&&j!==r&&n.call(j,a)&&(E=j);var P=O.prototype=b.prototype=Object.create(E);function x(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==f(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=T(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===g)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function T(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function R(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(f(e)+" is not iterable")}return w.prototype=O,o(P,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s(t,u,"GeneratorFunction")),t.prototype=Object.create(P),t},e.awrap=function(t){return{__await:t}},x(_.prototype),s(_.prototype,c,(function(){return this})),e.AsyncIterator=_,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new _(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},x(P),s(P,u,"Generator"),s(P,a,(function(){return this})),s(P,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function b(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return e=S(e),function(t,e){if(e&&("object"==f(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],S(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function E(){return E="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},E.apply(null,arguments)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function j(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}function P(t,e){return P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},P(t,e)}function x(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!=f(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=f(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==f(e)?e:e+""}var k=function(t){function e(t){var r;return m(this,e),x(r=w(this,e,[t,"kms"]),"signature",void 0),x(r,"method",void 0),x(r,"commonHeaders",void 0),r.signature=new i.B({service:r.serviceName,region:t.region,credentials:{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,sessionToken:t.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return j(e,t),b(e,[{key:"listKeys",value:(n=v(h().mark((function t(){var e,r,n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:y(y({},this.commonHeaders),{},x({},c.V1,"TrentService.ListKeys")),body:JSON.stringify({})},{}),t.next=3,s().asyncRequest(this.method,e.url,e.body,y(y({},this.baseRequestParams),{},{headers:e.headers}));case 3:return r=t.sent,this.handleError(r,R.ListKeys),n=r.json("Keys"),t.abrupt("return",n.map((function(t){return T.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"generateDataKey",value:(r=v(h().mark((function t(e){var r,n,o,i=arguments;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:C.Size256,n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:y(y({},this.commonHeaders),{},x({},c.V1,"TrentService.GenerateDataKey")),body:JSON.stringify({KeyId:e,NumberOfBytes:r})},{}),t.next=4,s().asyncRequest(this.method,n.url,n.body,y(y({},this.baseRequestParams),{},{headers:n.headers}));case 4:return o=t.sent,this.handleError(o,R.GenerateDataKey),t.abrupt("return",L.fromJSON(o.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,o,a,c,u;if(!(n=e,o="handleError",a=this,u=E(S(1&(c=3)?n.prototype:n),o,a),2&c?function(t){return u.apply(a,t)}:u)([t,r]))return!1;var s=t.error_code,l=t.json();if(s>=1400&&s<=1499){var f=l.Message||l.message||l.__type;if("InvalidSignatureException"===l.__type)throw new i.s(f,l.__type);throw new N(f,l.__type,r)}if(1500===s)throw new N("An error occured on the server side","InternalServiceError",r);return!0}}]);var r,n}(l.R),T=function(){function t(e,r){m(this,t),x(this,"keyArn",void 0),x(this,"keyId",void 0),this.keyArn=e,this.keyId=r}return b(t,null,[{key:"fromJSON",value:function(e){return new t(e.KeyArn,e.KeyId)}}])}(),L=function(){function t(e,r,n){m(this,t),x(this,"id",void 0),x(this,"ciphertextBlob",void 0),x(this,"plaintext",void 0),this.ciphertextBlob=e,this.id=r,this.plaintext=n}return b(t,null,[{key:"fromJSON",value:function(e){return new t(e.CiphertextBlob,e.KeyId,e.Plaintext)}}])}(),N=function(t){function e(t,r,n){var o;return m(this,e),x(o=w(this,e,[t,r]),"operation",void 0),o.name="KMSServiceError",o.operation=n,o}return j(e,t),b(e)}(o.cv),R=function(t){return t.GenerateDataKey="GenerateDataKey",t.ListKeys="ListKeys",t}(R||{}),C=function(t){return t[t.Size256=32]="Size256",t[t.Size512=64]="Size512",t}(C||{}),A=r(556),D=r(95);function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function G(){G=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==I(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(I(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function M(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?q(Object(r),!0).forEach((function(e){Y(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function K(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function H(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){K(i,n,o,a,c,"next",t)}function c(t){K(i,n,o,a,c,"throw",t)}a(void 0)}))}}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$(n.key),n)}}function z(t,e,r){return e&&U(t.prototype,e),r&&U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function F(t,e,r){return e=W(e),function(t,e){if(e&&("object"==I(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,V()?Reflect.construct(e,r||[],W(t).constructor):e.apply(t,r))}function V(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(V=function(){return!!t})()}function J(){return J="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},J.apply(null,arguments)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function Q(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}function X(t,e){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},X(t,e)}function Y(t,e,r){return(e=$(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var Z=function(t){function e(t){var r;return B(this,e),Y(r=F(this,e,[t,"s3"]),"signature",void 0),r.signature=new i.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),r}return Q(e,t),z(e,[{key:"listBuckets",value:(y=H(G().mark((function t(){var e,r,n;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:"GET",endpoint:this.endpoint,path:"/",headers:{}},{}),t.next=4,s().asyncRequest("GET",e.url,e.body||null,M(M({},this.baseRequestParams),{},{headers:e.headers}));case 4:return r=t.sent,this.handleError(r,"ListBuckets"),n=[],(0,D.parseHTML)(r.body).find("Buckets").children().each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"name":Object.assign(r,{name:t.textContent()});break;case"creationdate":Object.assign(r,{creationDate:Date.parse(t.textContent())})}})),n.push(r)})),t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"listObjects",value:(p=H(G().mark((function t(e,r){var n,o,i;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"GET",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/")),query:{"list-type":"2",prefix:r||""},headers:{}},{}),t.next=4,s().asyncRequest("GET",n.url,n.body||null,M(M({},this.baseRequestParams),{},{headers:n.headers}));case 4:return o=t.sent,this.handleError(o,"ListObjectsV2"),i=[],(0,D.parseHTML)(o.body).find("Contents").each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"key":Object.assign(r,{key:t.textContent()});break;case"lastmodified":Object.assign(r,{lastModified:Date.parse(t.textContent())});break;case"etag":Object.assign(r,{etag:t.textContent()});break;case"size":Object.assign(r,{size:parseInt(t.textContent())});break;case"storageclass":Object.assign(r,{storageClass:t.textContent()})}})),i.push(r)})),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"getObject",value:(h=H(G().mark((function t(e,r){var n,o,i,a,c,u=arguments;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>2&&void 0!==u[2]?u[2]:{},i=this.signature.sign({method:"GET",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:M({},o)},{}),a="text","Accept"in o&&void 0!==o.Accept&&"application/octet-stream"===o.Accept&&(a="binary"),t.next=7,s().asyncRequest("GET",i.url,null,M(M({},this.baseRequestParams),{},{headers:i.headers,responseType:a}));case 7:return c=t.sent,this.handleError(c,"GetObject"),t.abrupt("return",new et(r,Date.parse(c.headers["Last-Modified"]),c.headers.ETag,parseInt(c.headers["Content-Length"]),null!==(n=c.headers["X-Amz-Storage-Class"])&&void 0!==n?n:"STANDARD",c.body));case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"putObject",value:(f=H(G().mark((function t(e,r,n,o){var i,a;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.signature.sign({method:"PUT",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:M(M(M(M(M({Host:this.endpoint.host},(null==o?void 0:o.contentDisposition)&&{"Content-Disposition":o.contentDisposition}),(null==o?void 0:o.contentEncoding)&&{"Content-Encoding":o.contentEncoding}),(null==o?void 0:o.contentLength)&&{"Content-Length":o.contentLength}),(null==o?void 0:o.contentMD5)&&{"Content-MD5":o.contentMD5}),(null==o?void 0:o.contentType)&&{"Content-Type":o.contentType}),body:n},{}),t.next=4,s().asyncRequest("PUT",i.url,i.body,M(M({},this.baseRequestParams),{},{headers:i.headers}));case 4:a=t.sent,this.handleError(a,"PutObject");case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return f.apply(this,arguments)})},{key:"deleteObject",value:(l=H(G().mark((function t(e,r){var n,o,i;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="DELETE",o=this.signature.sign({method:n,endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:{}},{}),t.next=4,s().asyncRequest(n,o.url,o.body||null,M(M({},this.baseRequestParams),{},{headers:o.headers}));case 4:i=t.sent,this.handleError(i,"DeleteObject");case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return l.apply(this,arguments)})},{key:"copyObject",value:(u=H(G().mark((function t(e,r,n,o){var i,a,c;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.endpoint.copy()).hostname="".concat(n,".").concat(this.endpoint.hostname),a=this.signature.sign({method:"PUT",endpoint:i,path:encodeURI("/".concat(o)),headers:{"x-amz-copy-source":"".concat(e,"/").concat(r)}},{}),t.next=6,s().asyncRequest("PUT",a.url,a.body||null,M(M({},this.baseRequestParams),{},{headers:a.headers}));case 6:c=t.sent,this.handleError(c,"CopyObject");case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return u.apply(this,arguments)})},{key:"createMultipartUpload",value:(c=H(G().mark((function t(e,r){var n,o,i,a;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="POST",(o=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),i=this.signature.sign({method:n,endpoint:o,path:encodeURI("/".concat(r)),headers:{},query:{uploads:""}},{}),t.next=6,s().asyncRequest(n,i.url,i.body||null,M(M({},this.baseRequestParams),{},{headers:i.headers}));case 6:return a=t.sent,this.handleError(a,"CreateMultipartUpload"),t.abrupt("return",new rt(r,(0,D.parseHTML)(a.body).find("UploadId").text()));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"uploadPart",value:(a=H(G().mark((function t(e,r,n,o,i){var a,c,u;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(a=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),c=this.signature.sign({method:"PUT",endpoint:a,path:encodeURI("/".concat(r)),headers:{},body:i,query:{partNumber:"".concat(o),uploadId:"".concat(n)}},{}),t.next=6,s().asyncRequest("PUT",c.url,c.body||null,M(M({},this.baseRequestParams),{},{headers:c.headers}));case 6:return u=t.sent,this.handleError(u,"UploadPart"),t.abrupt("return",new nt(o,u.headers.Etag));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,o){return a.apply(this,arguments)})},{key:"completeMultipartUpload",value:(n=H(G().mark((function t(e,r,n,o){var i,a,c,u,l;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="POST",a="<CompleteMultipartUpload>".concat(o.map((function(t){return"<Part><PartNumber>".concat(t.partNumber,"</PartNumber><ETag>").concat(t.eTag,"</ETag></Part>")})).join(""),"</CompleteMultipartUpload>"),(c=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),u=this.signature.sign({method:i,endpoint:c,path:encodeURI("/".concat(r)),headers:{},body:a,query:{uploadId:"".concat(n)}},{}),t.next=7,s().asyncRequest(i,u.url,u.body||null,M(M({},this.baseRequestParams),{},{headers:u.headers}));case 7:l=t.sent,this.handleError(l,"CompleteMultipartUpload");case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,o){return n.apply(this,arguments)})},{key:"abortMultipartUpload",value:(r=H(G().mark((function t(e,r,n){var o,i,a,c;return G().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="DELETE",(i=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),a=this.signature.sign({method:o,endpoint:i,path:encodeURI("/".concat(r)),headers:{},query:{uploadId:"".concat(n)}},{}),t.next=6,s().asyncRequest(o,a.url,a.body||null,M(M({},this.baseRequestParams),{},{headers:a.headers}));case 6:c=t.sent,this.handleError(c,"AbortMultipartUpload");case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,a,c,u,s;if(!(n=e,a="handleError",c=this,s=J(W(1&(u=3)?n.prototype:n),a,c),2&u?function(t){return s.apply(c,t)}:s)([t]))return!1;var l=t.error;if(301==t.status||l&&l.startsWith("301"))throw new ot("Resource not found","ResourceNotFound",r);var f=o.cv.parseXML(t.body);if("AuthorizationHeaderMalformed"===f.code)throw new i.s(f.message,f.code);throw new ot(f.message,f.code||"unknown",r)}}]);var r,n,a,c,u,l,f,h,p,y}(l.R),tt=z((function t(e,r){B(this,t),Y(this,"name",void 0),Y(this,"creationDate",void 0),this.name=e,this.creationDate=r})),et=z((function t(e,r,n,o,i,a){B(this,t),Y(this,"key",void 0),Y(this,"lastModified",void 0),Y(this,"etag",void 0),Y(this,"size",void 0),Y(this,"storageClass",void 0),Y(this,"data",void 0),this.key=e,this.lastModified=r,this.etag=n,this.size=o,this.storageClass=i,this.data=a})),rt=z((function t(e,r){B(this,t),Y(this,"key",void 0),Y(this,"uploadId",void 0),this.key=e,this.uploadId=r})),nt=z((function t(e,r){B(this,t),Y(this,"partNumber",void 0),Y(this,"eTag",void 0),this.partNumber=e,this.eTag=r})),ot=function(t){function e(t,r,n){var o;return B(this,e),Y(o=F(this,e,[t,r]),"operation",void 0),o.name="S3ServiceError",o.operation=n,o}return Q(e,t),z(e)}(o.cv);const it=require("https://jslib.k6.io/k6-utils/1.4.0/index.js");function at(t){return at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},at(t)}function ct(){ct=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==at(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(at(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ut(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function st(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(r),!0).forEach((function(e){Ot(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ut(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ft(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){lt(i,n,o,a,c,"next",t)}function c(t){lt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Et(n.key),n)}}function yt(t,e,r){return e&&pt(t.prototype,e),r&&pt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function dt(t,e,r){return e=gt(e),function(t,e){if(e&&("object"==at(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,vt()?Reflect.construct(e,r||[],gt(t).constructor):e.apply(t,r))}function vt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(vt=function(){return!!t})()}function mt(){return mt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=gt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},mt.apply(null,arguments)}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function bt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wt(t,e)}function wt(t,e){return wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wt(t,e)}function Ot(t,e,r){return(e=Et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Et(t){var e=function(t,e){if("object"!=at(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=at(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==at(e)?e:e+""}var St=function(t){function e(t){var r;return ht(this,e),Ot(r=dt(this,e,[t,"secretsmanager"]),"signature",void 0),Ot(r,"method",void 0),Ot(r,"commonHeaders",void 0),r.signature=new i.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return bt(e,t),yt(e,[{key:"listSecrets",value:(u=ft(ct().mark((function t(){var e,r,n;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:st(st({},this.commonHeaders),{},Ot({},c.V1,"".concat(this.serviceName,".ListSecrets"))),body:JSON.stringify({})},{}),t.next=3,s().asyncRequest(this.method,e.url,e.body,st(st({},this.baseRequestParams),{},{headers:e.headers}));case 3:return r=t.sent,this.handleError(r,xt.ListSecrets),n=r.json("SecretList"),t.abrupt("return",n.map((function(t){return jt.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"getSecret",value:(a=ft(ct().mark((function t(e){var r,n;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:st(st({},this.commonHeaders),{},Ot({},c.V1,"".concat(this.serviceName,".GetSecretValue"))),body:JSON.stringify({SecretId:e})},{}),t.next=3,s().asyncRequest(this.method,r.url,r.body,st(st({},this.baseRequestParams),{},{headers:r.headers}));case 3:return n=t.sent,this.handleError(n,xt.GetSecretValue),t.abrupt("return",jt.fromJSON(n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"createSecret",value:(o=ft(ct().mark((function t(e,r,n,o,i){var a,u,l;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=null!==(a=o)&&void 0!==a?a:(0,it.uuidv4)(!0),u=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:st(st({},this.commonHeaders),{},Ot({},c.V1,"".concat(this.serviceName,".CreateSecret"))),body:JSON.stringify({Name:e,Description:n,SecretString:r,ClientRequestToken:o,Tags:i})},{}),t.next=4,s().asyncRequest(this.method,u.url,u.body,st(st({},this.baseRequestParams),{},{headers:u.headers}));case 4:return l=t.sent,this.handleError(l,xt.CreateSecret),t.abrupt("return",jt.fromJSON(l.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,i){return o.apply(this,arguments)})},{key:"putSecretValue",value:(n=ft(ct().mark((function t(e,r,n){var o,i,a;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=null!==(o=n)&&void 0!==o?o:(0,it.uuidv4)(!0),i=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:st(st({},this.commonHeaders),{},Ot({},c.V1,"".concat(this.serviceName,".PutSecretValue"))),body:JSON.stringify({SecretId:e,SecretString:r,ClientRequestToken:n})},{}),t.next=4,s().asyncRequest(this.method,i.url,i.body,st(st({},this.baseRequestParams),{},{headers:i.headers}));case 4:return a=t.sent,this.handleError(a,xt.PutSecretValue),t.abrupt("return",jt.fromJSON(a.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"deleteSecret",value:(r=ft(ct().mark((function t(e,r){var n,o,i,a,u,l;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.recoveryWindow,o=void 0===n?30:n,i=r.noRecovery,a={SecretId:e},!0===(void 0!==i&&i)?a.ForceDeleteWithoutRecovery=!0:a.RecoveryWindowInDays=o,u=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:st(st({},this.commonHeaders),{},Ot({},c.V1,"".concat(this.serviceName,".DeleteSecret"))),body:JSON.stringify(a)},{}),t.next=6,s().asyncRequest(this.method,u.url,u.body,st(st({},this.baseRequestParams),{},{headers:u.headers}));case 6:l=t.sent,this.handleError(l,xt.DeleteSecret);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,o,a,c,u;if(!(n=e,o="handleError",a=this,u=mt(gt(1&(c=3)?n.prototype:n),o,a),2&c?function(t){return u.apply(a,t)}:u)([t,r]))return!1;var s=t.error_code,l=t.json();if(s>=1400&&s<=1499){var f=l.Message||l.message||l.__type;if("InvalidSignatureException"===l.__type)throw new i.s(f,l.__type);throw new Pt(f,l.__type,r)}if(1500===s)throw new Pt("An error occured on the server side","InternalServiceError",r);return!0}}]);var r,n,o,a,u}(l.R),jt=function(){function t(e,r,n,o,i,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];ht(this,t),Ot(this,"name",void 0),Ot(this,"arn",void 0),Ot(this,"secret",void 0),Ot(this,"createdDate",void 0),Ot(this,"lastAccessedDate",void 0),Ot(this,"lastChangedDate",void 0),Ot(this,"tags",void 0),this.name=e,this.arn=r,this.secret=n,this.createdDate=o,this.lastAccessedDate=i,this.lastChangedDate=a,this.tags=c}return yt(t,null,[{key:"fromJSON",value:function(e){return new t(e.Name,e.ARN,e.SecretString,e.CreatedDate,e.LastAccessedDate,e.LastChangedDate,e.Tags)}}])}(),Pt=function(t){function e(t,r,n){var o;return ht(this,e),Ot(o=dt(this,e,[t,r]),"operation",void 0),o.name="SecretsManagerServiceError",o.operation=n,o}return bt(e,t),yt(e)}(o.cv),xt=function(t){return t.ListSecrets="ListSecrets",t.GetSecretValue="GetSecretValue",t.CreateSecret="CreateSecret",t.PutSecretValue="PutSecretValue",t.DeleteSecret="DeleteSecret",t}(xt||{});function _t(t){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(t)}function kt(){kt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==_t(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(_t(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(r),!0).forEach((function(e){Ht(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ct(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bt(n.key),n)}}function At(t,e,r){return e&&Ct(t.prototype,e),r&&Ct(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dt(t,e,r){return e=qt(e),function(t,e){if(e&&("object"==_t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,It()?Reflect.construct(e,r||[],qt(t).constructor):e.apply(t,r))}function It(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(It=function(){return!!t})()}function Gt(){return Gt="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=qt(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Gt.apply(null,arguments)}function qt(t){return qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qt(t)}function Mt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kt(t,e)}function Kt(t,e){return Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Kt(t,e)}function Ht(t,e,r){return(e=Bt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bt(t){var e=function(t,e){if("object"!=_t(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_t(e)?e:e+""}var Ut=function(t){function e(t){var r;return Rt(this,e),Ht(r=Dt(this,e,[t,"ssm"]),"signature",void 0),Ht(r,"method",void 0),Ht(r,"commonHeaders",void 0),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r.signature=new i.B({service:r.serviceName,region:t.region,credentials:{accessKeyId:t.accessKeyId,secretAccessKey:t.secretAccessKey,sessionToken:t.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r}return Mt(e,t),At(e,[{key:"getParameter",value:(r=kt().mark((function t(e){var r,n,o,i=arguments;return kt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:Lt(Lt({},this.commonHeaders),{},Ht({},c.V1,"AmazonSSM.GetParameter")),body:JSON.stringify({Name:e,WithDecryption:r})},{}),t.next=4,s().asyncRequest(this.method,n.url,n.body,Lt(Lt({},this.baseRequestParams),{},{headers:n.headers}));case 4:return o=t.sent,this.handleError(o,Vt.GetParameter),t.abrupt("return",zt.fromJSON(o.json()));case 7:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Nt(i,n,o,a,c,"next",t)}function c(t){Nt(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,o,a,c,u;if(!(n=e,o="handleError",a=this,u=Gt(qt(1&(c=3)?n.prototype:n),o,a),2&c?function(t){return u.apply(a,t)}:u)([t,r]))return!1;var s=t.error_code,l=t.json();if(s>=1400&&s<=1499){var f=l.Message||l.message||l.__type;if("InvalidSignatureException"===l.__type)throw new i.s(f,l.__type);throw new Ft(f,l.__type,r)}if(1500===s)throw new Ft("An error occured on the server side","InternalServiceError",r);return!0}}]);var r,n}(l.R),zt=function(){function t(e,r,n,o,i,a,c,u,s){Rt(this,t),Ht(this,"arn",void 0),Ht(this,"dataType",void 0),Ht(this,"lastModifiedDate",void 0),Ht(this,"name",void 0),Ht(this,"selector",void 0),Ht(this,"sourceResult",void 0),Ht(this,"type",void 0),Ht(this,"value",void 0),Ht(this,"version",void 0),this.arn=e,this.dataType=r,this.lastModifiedDate=n,this.name=o,this.selector=i,this.sourceResult=a,this.type=c,this.value=u,this.version=s}return At(t,null,[{key:"fromJSON",value:function(e){var r=e.Parameter;return new t(r.ARN,r.DataType,r.LastModifiedDate,r.Name,r.Selector,r.SourceResult,r.Type,r.Value,r.Version)}}])}(),Ft=function(t){function e(t,r,n){var o;return Rt(this,e),Ht(o=Dt(this,e,[t,r]),"operation",void 0),o.name="SystemsManagerServiceError",o.operation=n,o}return Mt(e,t),At(e)}(o.cv),Vt=function(t){return t.GetParameter="GetParameter",t}(Vt||{}),Jt=r(535);function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function Qt(){Qt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Wt(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Wt(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Xt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xt(Object(r),!0).forEach((function(e){se(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $t(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Zt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){$t(i,n,o,a,c,"next",t)}function c(t){$t(i,n,o,a,c,"throw",t)}a(void 0)}))}}function te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ee(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,le(n.key),n)}}function re(t,e,r){return e&&ee(t.prototype,e),r&&ee(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ne(t,e,r){return e=ae(e),function(t,e){if(e&&("object"==Wt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,oe()?Reflect.construct(e,r||[],ae(t).constructor):e.apply(t,r))}function oe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(oe=function(){return!!t})()}function ie(){return ie="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=ae(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},ie.apply(null,arguments)}function ae(t){return ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ae(t)}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function se(t,e,r){return(e=le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function le(t){var e=function(t,e){if("object"!=Wt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wt(e)?e:e+""}var fe=function(t){function e(t){var r;return te(this,e),se(r=ne(this,e,[t,"kinesis"]),"signature",void 0),se(r,"commonHeaders",void 0),se(r,"serviceVersion",void 0),r.serviceVersion="Kinesis_20131202",r.signature=new i.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return ce(e,t),re(e,[{key:"createStream",value:(h=Zt(Qt().mark((function t(e){var r,n,o=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Yt(Yt({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).shardCount&&{ShardCount:r.shardCount}),r.streamModeDetails&&{StreamMode:r.streamModeDetails.streamMode}),t.next=4,this._send_request("CreateStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"deleteStream",value:(f=Zt(Qt().mark((function t(e){var r,n,o=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Yt(Yt({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).streamARN&&{StreamARN:r.streamARN}),r.enforceConsumerDeletion&&{EnforceConsumerDeletion:r.enforceConsumerDeletion}),t.next=4,this._send_request("DeleteStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return f.apply(this,arguments)})},{key:"listStreams",value:(l=Zt(Qt().mark((function t(){var e,r,n,o=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Yt(Yt(Yt({},(e=o.length>0&&void 0!==o[0]?o[0]:{}).exclusiveStartStreamName&&{ExclusiveStartStreamName:e.exclusiveStartStreamName}),e.limit&&{Limit:e.limit}),e.nextToken&&{NextToken:e.nextToken}),t.next=4,this._send_request("ListStreams",r);case 4:return n=t.sent,t.abrupt("return",pe.fromJson(null==n?void 0:n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"putRecords",value:(u=Zt(Qt().mark((function t(e){var r,n,o,i=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.length>1&&void 0!==i[1]?i[1]:{}).streamName||r.streamARN){t.next=3;break}throw new Error("Either streamName or streamARN must be provided");case 3:return n=Yt(Yt({Records:e},r.streamName&&{StreamName:r.streamName}),r.streamARN&&{StreamARN:r.streamARN}),t.next=6,this._send_request("PutRecords",n);case 6:return o=t.sent,t.abrupt("return",de.fromJson(null==o?void 0:o.json()));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"getRecords",value:(a=Zt(Qt().mark((function t(e){var r,n,o,i=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Yt(Yt({ShardIterator:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).limit&&{Limit:r.limit}),r.streamARN&&{StreamARN:r.streamARN}),t.next=4,this._send_request("GetRecords",n);case 4:return o=t.sent,t.abrupt("return",me.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"listShards",value:(o=Zt(Qt().mark((function t(e){var r,n,o,i=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Yt(Yt({StreamName:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).nextToken&&{NextToken:r.nextToken}),r.maxResults&&{MaxResults:r.maxResults}),t.next=4,this._send_request("ListShards",n);case 4:return o=t.sent,t.abrupt("return",be.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getShardIterator",value:(n=Zt(Qt().mark((function t(e,r,n){var o,i,a,c=arguments;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Yt(Yt({StreamName:e,ShardId:r,ShardIteratorType:n},(o=c.length>3&&void 0!==c[3]?c[3]:{}).startingSequenceNumber&&{StartingSequenceNumber:o.startingSequenceNumber}),o.timestamp&&{Timestamp:o.timestamp}),t.next=4,this._send_request("GetShardIterator",i);case 4:return a=t.sent,t.abrupt("return",Oe.fromJson(null==a?void 0:a.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"_send_request",value:(r=Zt(Qt().mark((function t(e,r){var n,o;return Qt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"POST",endpoint:this.endpoint,path:"/",headers:Yt(Yt({},this.commonHeaders),{},se({},c.V1,"".concat(this.serviceVersion,".").concat(e))),body:JSON.stringify(r)},{}),t.next=3,s().asyncRequest("POST",n.url,n.body,Yt(Yt({},this.baseRequestParams),{},{headers:n.headers}));case 3:return o=t.sent,this.handleError(o,e),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,o,a,c,u;if(!(n=e,o="handleError",a=this,u=ie(ae(1&(c=3)?n.prototype:n),o,a),2&c?function(t){return u.apply(a,t)}:u)([t,r]))return!1;var s=t.error_code,l=t.json();if(s>=1400&&s<=1499){var f=l.Message||l.message||l.__type;if("InvalidSignatureException"===l.__type)throw new i.s(f,l.__type);throw new he(f,l.__type,r||"Unknown")}if(1500===s)throw new he("An error occured on the server side","InternalServiceError",r||"Unknown");return!0}}]);var r,n,o,a,u,l,f,h}(l.R),he=function(t){function e(t,r,n){var o;return te(this,e),se(o=ne(this,e,[t,r]),"operation",void 0),o.name="KinesisServiceError",o.operation=n,o}return ce(e,t),re(e)}(o.cv),pe=function(){function t(e,r,n,o){te(this,t),se(this,"hasMoreStreams",void 0),se(this,"nextToken",void 0),se(this,"streamNames",void 0),se(this,"streamSummaries",void 0),this.hasMoreStreams=e,this.nextToken=r,this.streamNames=n,this.streamSummaries=o}return re(t,null,[{key:"fromJson",value:function(e){var r=e.HasMoreStreams,n=void 0!==r&&r,o=e.NextToken,i=void 0===o?"":o,a=e.StreamNames,c=void 0===a?[]:a,u=e.StreamSummaries,s=void 0===u?[]:u;return new t(n,i,c,null==s?void 0:s.map(ye.fromJson))}}])}(),ye=function(){function t(e,r,n,o,i){te(this,t),se(this,"streamARN",void 0),se(this,"streamCreationTimestamp",void 0),se(this,"streamModeDetails",void 0),se(this,"streamName",void 0),se(this,"streamStatus",void 0),this.streamARN=e,this.streamCreationTimestamp=r,this.streamModeDetails=n,this.streamName=o,this.streamStatus=i}return re(t,null,[{key:"fromJson",value:function(e){var r=e.StreamARN,n=void 0===r?"":r,o=e.StreamCreationTimestamp,i=void 0===o?0:o,a=e.StreamModeDetails,c=void 0===a?{}:a,u=e.StreamName,s=void 0===u?"":u,l=e.StreamStatus;return new t(n,i,c,s,void 0===l?"":l)}}])}(),de=function(){function t(e,r,n){te(this,t),se(this,"encryptionType",void 0),se(this,"failedRecordCount",void 0),se(this,"records",void 0),this.encryptionType=e,this.failedRecordCount=r,this.records=n}return re(t,null,[{key:"fromJson",value:function(e){var r=e.EncryptionType,n=void 0===r?"NONE":r,o=e.FailedRecordCount,i=void 0===o?0:o,a=e.Records;return new t(n,i,(void 0===a?[]:a).map(ve.fromJson))}}])}(),ve=function(){function t(e,r){te(this,t),se(this,"sequenceNumber",void 0),se(this,"shardId",void 0),this.sequenceNumber=e,this.shardId=r}return re(t,null,[{key:"fromJson",value:function(e){return new t(e.SequenceNumber,e.ShardId)}}])}(),me=function(){function t(e,r,n){te(this,t),se(this,"nextShardIterator",void 0),se(this,"records",void 0),se(this,"millisBehindLatest",void 0),this.nextShardIterator=e,this.records=r,this.millisBehindLatest=n}return re(t,null,[{key:"fromJson",value:function(e){var r=e.NextShardIterator,n=void 0===r?"":r,o=e.Records,i=void 0===o?[]:o,a=e.MillisBehindLatest,c=void 0===a?0:a;return new t(n,i.map(ge.fromJson),c)}}])}(),ge=function(){function t(e,r,n){te(this,t),se(this,"data",void 0),se(this,"partitionKey",void 0),se(this,"sequenceNumber",void 0),this.data=e,this.partitionKey=r,this.sequenceNumber=n}return re(t,null,[{key:"fromJson",value:function(e){return new t(e.Data,e.PartitionKey,e.SequenceNumber)}}])}(),be=function(){function t(e,r){te(this,t),se(this,"shards",void 0),se(this,"nextToken",void 0),this.shards=e,this.nextToken=r}return re(t,null,[{key:"fromJson",value:function(e){var r=e.Shards,n=void 0===r?[]:r,o=e.NextToken;return new t(n.map(we.fromJson),o)}}])}(),we=function(){function t(e,r,n,o,i){te(this,t),se(this,"id",void 0),se(this,"parentShardId",void 0),se(this,"adjacentParentShardId",void 0),se(this,"hashKeyRange",void 0),se(this,"sequenceNumberRange",void 0),this.id=e,this.parentShardId=o,this.adjacentParentShardId=i,this.hashKeyRange=r,this.sequenceNumberRange=n}return re(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardId,e.HashKeyRange,e.SequenceNumberRange,e.ParentShardId,e.AdjacentParentShardId)}}])}(),Oe=function(){function t(e){te(this,t),se(this,"shardIterator",void 0),this.shardIterator=e}return re(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardIterator)}}])}();function Ee(t){return Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(t)}function Se(){Se=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function l(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new L(n||[]);return o(a,"_invoke",{value:x(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function g(){}function b(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O(N([])));E&&E!==r&&n.call(E,a)&&(w=E);var S=b.prototype=m.prototype=Object.create(w);function j(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Ee(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function x(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=f(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function _(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(Ee(e)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=s(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},j(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function je(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pe(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?je(Object(r),!0).forEach((function(e){Ie(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):je(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xe(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function _e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ge(n.key),n)}}function Te(t,e,r){return e&&ke(t.prototype,e),r&&ke(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Le(t,e,r){return e=Ce(e),function(t,e){if(e&&("object"==Ee(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ne()?Reflect.construct(e,r||[],Ce(t).constructor):e.apply(t,r))}function Ne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Ne=function(){return!!t})()}function Re(){return Re="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=Ce(t)););return t}(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}},Re.apply(null,arguments)}function Ce(t){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ce(t)}function Ae(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&De(t,e)}function De(t,e){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},De(t,e)}function Ie(t,e,r){return(e=Ge(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ge(t){var e=function(t,e){if("object"!=Ee(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=Ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ee(e)?e:e+""}var qe=function(t){function e(t){var r;return _e(this,e),Ie(r=Le(this,e,[t,"events"]),"signature",void 0),Ie(r,"method",void 0),Ie(r,"commonHeaders",void 0),r.signature=new i.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return Ae(e,t),Te(e,[{key:"putEvents",value:(r=Se().mark((function t(e){var r,n,o;return Se().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Pe(Pe({},e),{},{Entries:e.Entries.map((function(t){return Pe(Pe({},t),{},{Detail:JSON.stringify(t.Detail)})}))}),n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:Pe(Pe({},this.commonHeaders),{},Ie({},c.V1,"AWSEvents.PutEvents")),body:JSON.stringify(r)},{}),t.next=4,s().asyncRequest(this.method,n.url,n.body,Pe(Pe({},this.baseRequestParams),{},{headers:n.headers}));case 4:o=t.sent,this.handleError(o,Me.PutEvents);case 6:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){xe(i,n,o,a,c,"next",t)}function c(t){xe(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"handleError",value:function(t,r){var n,o,a,c,u;if(!(n=e,o="handleError",a=this,u=Re(Ce(1&(c=3)?n.prototype:n),o,a),2&c?function(t){return u.apply(a,t)}:u)([t,r]))return!1;var s=t.error_code,l=t.json();if(s>=1400&&s<=1499){var f=l.Message||l.message||l.__type;if("InvalidSignatureException"===l.__type)throw new i.s(f,l.__type);throw new Ke(f,l.__type,r)}if(1500===s)throw new Ke("An error occured on the server side","InternalServiceError",r);return!0}}]);var r,n}(l.R),Me=function(t){return t.PutEvents="PutEvents",t}(Me||{}),Ke=function(t){function e(t,r,n){var o;return _e(this,e),Ie(o=Le(this,e,[t,r]),"operation",void 0),o.name="EventBridgeServiceError",o.operation=n,o}return Ae(e,t),Te(e)}(o.cv),He=r(340),Be=exports;for(var Ue in n)Be[Ue]=n[Ue];n.__esModule&&Object.defineProperty(Be,"__esModule",{value:!0})})();
//# sourceMappingURL=aws.js.map