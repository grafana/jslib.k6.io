/*! For license information please see aws.js.LICENSE.txt */
(()=>{var t={2:(t,e,r)=>{"use strict";r.d(e,{R:()=>u});var n=r(556);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,c(n.key),n)}}function a(t,e,r){return(e=c(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var u=function(){return t=function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),a(this,"awsConfig",void 0),a(this,"serviceName",void 0),a(this,"_endpoint",void 0),this.awsConfig=e,this.serviceName=r,null!=e.endpoint&&(this._endpoint=e.endpoint)},(e=[{key:"endpoint",get:function(){return null==this._endpoint&&(this._endpoint=new n.y("https://".concat(this.serviceName,".").concat(this.awsConfig.region,".amazonaws.com"))),this._endpoint},set:function(t){this._endpoint=t}}])&&i(t.prototype,e),r&&i(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,r}()},811:(t,e,r)=>{"use strict";r.d(e,{g:()=>d,r:()=>v});var n=r(556);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e,r){return e=s(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,c()?Reflect.construct(e,r||[],s(t).constructor):e.apply(t,r))}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(c())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&u(o,r.prototype),o}(t,arguments,s(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,t)},a(t)}function c(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(c=function(){return!!t})()}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,y(n.key),n)}}function h(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,r){return(e=y(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var d=function(){function t(e){if(f(this,t),p(this,"region",void 0),p(this,"accessKeyId",void 0),p(this,"secretAccessKey",void 0),p(this,"sessionToken",void 0),p(this,"endpoint",void 0),!e.region||""===e.region)throw new v('invalid AWS region; reason: expected a valid AWS region name (e.g. "us-east-1"), got `'.concat(e.region,"`"));if(!e.accessKeyId||""===e.accessKeyId)throw new v("invalid AWS access key ID; reason: expected a non empty string, got `".concat(e.accessKeyId,"`"));if(e.accessKeyId.length<16||e.accessKeyId.length>128)throw new v("invalid AWS access key ID; reason: size should be between 16 and 128 characters, got ".concat(e.accessKeyId.length));if(!e.secretAccessKey||""===e.secretAccessKey)throw new v("invalid AWS secret access key; reason: expected a non empty string, got `".concat(e.secretAccessKey,"`"));this.region=e.region,this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,void 0!==e.sessionToken&&(this.sessionToken=e.sessionToken),void 0!==e.endpoint&&("string"==typeof e.endpoint?this.endpoint=new n.y(e.endpoint):this.endpoint=e.endpoint)}return h(t,null,[{key:"fromEnvironment",value:function(e){return new t({region:__ENV.AWS_REGION,accessKeyId:__ENV.AWS_ACCESS_KEY_ID,secretAccessKey:__ENV.AWS_SECRET_ACCESS_KEY,sessionToken:__ENV.AWS_SESSION_TOKEN,endpoint:null==e?void 0:e.endpoint})}}])}(),v=function(t){function e(t){return f(this,e),i(this,e,[t])}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(e,t),h(e)}(a(Error))},464:(t,e,r)=>{"use strict";r.d(e,{Kq:()=>o,Qt:()=>u,Qz:()=>w,SN:()=>b,Uv:()=>O,V1:()=>p,VQ:()=>g,Zs:()=>i,_e:()=>j,b2:()=>f,fk:()=>y,he:()=>a,iK:()=>s,ot:()=>l,pj:()=>v,sY:()=>h,ud:()=>d,wN:()=>n,z8:()=>S,zG:()=>c,zX:()=>m});var n="X-Amz-Algorithm",o="X-Amz-Credential",i="X-Amz-Date",a="X-Amz-Expires",c="X-Amz-Signature",u="X-Amz-SignedHeaders",s="X-Amz-Security-Token",f="x-amz-content-sha256",l=i.toLowerCase(),h=c.toLowerCase(),p="X-Amz-Target".toLowerCase(),y=s.toLowerCase(),d="authorization",v=[d,l,"date"],m="host",b={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},g="aws4_request",w="AWS4-HMAC-SHA256",O=604800,j="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",S="UNSIGNED-PAYLOAD"},556:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,u(n.key),n)}}function c(t,e,r){return(e=u(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u(t){var e=function(t,e){if("object"!=n(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==n(e)?e:e+""}r.d(e,{y:()=>s});var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),c(this,"_protocol",void 0),c(this,"_hostname",void 0),c(this,"_port",void 0);var r=!e.startsWith("http://")&&!e.startsWith("https://")?"".concat(t.DEFAULT_PROTOCOL,"://").concat(e):e,n=r.match(/^https?:/),i=o(r.replace(/^https?:\/\//,"").split("/"),1)[0];this._protocol=n?n[0].slice(0,-1):t.DEFAULT_PROTOCOL,this._hostname=i.split(":")[0],this._port=i.split(":")[1]?parseInt(i.split(":")[1]):void 0}return e=t,(r=[{key:"copy",value:function(){return new t(this.href)}},{key:"host",get:function(){return this._port?"".concat(this._hostname,":").concat(this._port):this._hostname},set:function(t){var e=o(t.split(":"),2),r=e[0],n=e[1];this._hostname=r,this._port=n?parseInt(n):void 0}},{key:"hostname",get:function(){return this._hostname},set:function(t){this._hostname=t}},{key:"href",get:function(){return"".concat(this.protocol,"://").concat(this.host)},set:function(e){var r=e.match(/^https?:/),n=o(e.replace(/^https?:\/\//,"").split("/"),1)[0];this._protocol=r?r[0].slice(0,-1):t.DEFAULT_PROTOCOL,this._hostname=n.split(":")[0],this._port=n.split(":")[1]?parseInt(n.split(":")[1]):void 0}},{key:"port",get:function(){return this._port},set:function(t){this._port=t}},{key:"protocol",get:function(){return this._protocol},set:function(t){this._protocol=t}}])&&a(e.prototype,r),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,r,n}();c(s,"DEFAULT_PROTOCOL","https")},539:(t,e,r)=>{"use strict";r.d(e,{c:()=>h});var n=r(95);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,l(n.key),n)}}function a(t,e,r){return e=f(e),function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,r||[],f(t).constructor):e.apply(t,r))}function c(t){var e="function"==typeof Map?new Map:void 0;return c=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(u())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&s(o,r.prototype),o}(t,arguments,f(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)},c(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(u=function(){return!!t})()}function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function l(t){var e=function(t,e){if("object"!=o(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==o(e)?e:e+""}var h=function(t){function e(t,r){var n,o,i,c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=a(this,e,[t]),o=n,c=void 0,(i=l(i="code"))in o?Object.defineProperty(o,i,{value:c,enumerable:!0,configurable:!0,writable:!0}):o[i]=c,n.name="AWSError",n.code=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(e,t),r=e,c=[{key:"parseXML",value:function(t){var r=(0,n.parseHTML)(t);return new e(r.find("Message").text(),r.find("Code").text())}},{key:"parse",value:function(t){if("application/json"===t.headers["Content-Type"]){var r=t.json()||{};return new e(r.Message||r.message||r.__type||"An error occurred on the server side",t.headers["X-Amzn-Errortype"]||r.__type)}return e.parseXML(t.body)}}],(o=null)&&i(r.prototype,o),c&&i(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(c(Error))},21:(t,e,r)=>{"use strict";function n(t,e){t=t.toLowerCase();for(var r=0,n=Object.keys(e);r<n.length;r++){if(t===n[r].toLowerCase())return!0}return!1}r.d(e,{o:()=>n})},639:(t,e,r)=>{"use strict";r.d(e,{B:()=>S,s:()=>_});var n=r(275),o=r.n(n),i=r(464),a=r(539),c=r(21),u=r(680);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e,r){return e=h(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,l()?Reflect.construct(e,r||[],h(t).constructor):e.apply(t,r))}function l(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(l=function(){return!!t})()}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function y(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function v(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){O(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,j(n.key),n)}}function w(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function O(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var S=function(){return w((function t(e){var r=e.service,n=e.region,o=e.credentials,i=e.uriEscapePath,a=e.applyChecksum;b(this,t),O(this,"service",void 0),O(this,"region",void 0),O(this,"credentials",void 0),O(this,"uriEscapePath",void 0),O(this,"applyChecksum",void 0),this.service=r,this.region=n,this.credentials=o,this.uriEscapePath="boolean"!=typeof i||i,this.applyChecksum="boolean"!=typeof a||a}),[{key:"sign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=m(m({},{signingDate:new Date,unsignableHeaders:new Set,signableHeaders:new Set}),e),n=E(r.signingDate),o=n.longDate,a=n.shortDate,u=r.signingService||this.service,s=r.signingRegion||this.region,f="".concat(a,"/").concat(s,"/").concat(u,"/").concat(i.VQ);t.headers[i.zX]||(t.headers[i.zX]=t.endpoint.hostname);for(var l=0,h=Object.keys(t.headers);l<h.length;l++){var p=h[l];i.pj.indexOf(p.toLowerCase())>-1&&delete t.headers[p]}t.headers[i.ot]=o,this.credentials.sessionToken&&(t.headers[i.fk]=this.credentials.sessionToken),ArrayBuffer.isView(t.body)&&(t.body=t.body.buffer),t.body||(t.body="");var y=this.computePayloadHash(t);!(0,c.o)(i.b2,t.headers)&&this.applyChecksum&&(t.headers[i.b2]=y);var d=this.computeCanonicalHeaders(t,r.unsignableHeaders,r.signableHeaders),v=this.calculateSignature(o,f,this.deriveSigningKey(this.credentials,u,s,a),this.createCanonicalRequest(t,d,y));t.headers[i.ud]="".concat(i.Qz," ")+"Credential=".concat(this.credentials.accessKeyId,"/").concat(f,", ")+"SignedHeaders=".concat(Object.keys(d).sort().join(";"),", ")+"Signature=".concat(v);var b=t.endpoint.href;return t.path&&(b.endsWith("/")||t.path.startsWith("/")||(b+="/"),b+=t.path),t.query&&(b+="?".concat(this.serializeQueryParameters(t.query))),m({url:b},t)}},{key:"presign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.signingDate,n=void 0===r?new Date:r,o=e.expiresIn,a=void 0===o?3600:o,c=e.unsignableHeaders,u=e.unhoistableHeaders,s=e.signableHeaders,f=e.signingRegion,l=e.signingService,h=E(n),p=h.longDate,y=h.shortDate,d=f||this.region,v=l||this.service;if(a>i.Uv)throw new _("Signature version 4 presigned URLs can't be valid for more than 7 days");var b="".concat(y,"/").concat(d,"/").concat(v,"/").concat(i.VQ),g=this.moveHeadersToQuery(t,{unhoistableHeaders:u});g.headers[i.zX]||(g.headers[i.zX]=t.endpoint.hostname),this.credentials.sessionToken&&(g.query[i.iK]=this.credentials.sessionToken),g.query[i.wN]=i.Qz,g.query[i.Kq]="".concat(this.credentials.accessKeyId,"/").concat(b),g.query[i.Zs]=p,g.query[i.he]=a.toString(10);var w=this.computeCanonicalHeaders(g,c,s);g.query[i.Qt]=Object.keys(w).sort().join(";");var O=this.deriveSigningKey(this.credentials,v,d,y),j=this.computePayloadHash(t),S=this.createCanonicalRequest(g,w,j);g.query[i.zG]=this.calculateSignature(p,b,O,S);var x=g.endpoint.href;return g.path&&(x=x.endsWith("/")?x:x+"/",x+=g.path),g.query&&(x+="?".concat(this.serializeQueryParameters(g.query))),m({url:x},g)}},{key:"createCanonicalRequest",value:function(t,e,r){var n=Object.keys(e).sort(),o=n.map((function(t){return"".concat(t,":").concat(e[t])})).join("\n"),i=n.join(";");return"".concat(t.method,"\n")+"".concat(this.computeCanonicalURI(t),"\n")+"".concat(this.computeCanonicalQuerystring(t),"\n")+"".concat(o,"\n\n")+"".concat(i,"\n")+"".concat(r)}},{key:"createStringToSign",value:function(t,e,r){var n=o().sha256(r,"hex");return"".concat(i.Qz,"\n")+"".concat(t,"\n")+"".concat(e,"\n")+"".concat(n)}},{key:"calculateSignature",value:function(t,e,r,n){var i=this.createStringToSign(t,e,n);return o().hmac("sha256",r,i,"hex")}},{key:"deriveSigningKey",value:function(t,e,r,n){var i=t.secretAccessKey,a=o().hmac("sha256","AWS4"+i,n,"binary"),c=o().hmac("sha256",a,r,"binary"),u=o().hmac("sha256",c,e,"binary");return o().hmac("sha256",u,"aws4_request","binary")}},{key:"computeCanonicalURI",value:function(t){var e=t.path;if(this.uriEscapePath){var r,n=[],o=y(e.split("/"));try{for(o.s();!(r=o.n()).done;){var i=r.value;0!==(null==i?void 0:i.length)&&("."!==i&&(".."===i?n.pop():n.push(i)))}}catch(t){o.e(t)}finally{o.f()}var a=null!=e&&e.startsWith("/")?"/":"",c=n.join("/"),u=n.length>0&&null!=e&&e.endsWith("/")?"/":"",s="".concat(a).concat(c).concat(u);return encodeURIComponent(s).replace(/%2F/g,"/")}return e}},{key:"computeCanonicalQuerystring",value:function(t){var e,r=t.query,n=void 0===r?{}:r,o=[],a={},c=function(t){if(t.toLowerCase()===i.sY)return 1;o.push(t);var e=n[t];"string"==typeof e?a[t]="".concat(x(t),"=").concat(x(e)):Array.isArray(e)&&(a[t]=e.slice(0).sort().reduce((function(e,r){return e.concat(["".concat(x(t),"=").concat(x(r))])}),[]).join("&"))},u=y(Object.keys(n).sort());try{for(u.s();!(e=u.n()).done;){c(e.value)}}catch(t){u.e(t)}finally{u.f()}return o.map((function(t){return a[t]})).filter((function(t){return t})).join("&")}},{key:"computeCanonicalHeaders",value:function(t,e,r){var n,o=t.headers,a={},c=y(Object.keys(o).sort());try{for(c.s();!(n=c.n()).done;){var u=n.value;if(null!=o[u]){var s=u.toLowerCase();(s in i.SN||null!=e&&e.has(s))&&(!r||r&&!r.has(s))||"string"==typeof o[u]&&(a[s]=o[u]=o[u].trim().replace(/\s+/g," "))}}}catch(t){c.e(t)}finally{c.f()}return a}},{key:"computePayloadHash",value:function(t){var e=t.headers,r=t.body;return e[i.b2]?e[i.b2]:null==r?i._e:"string"==typeof r||(0,u.m)(r)?o().sha256(r,"hex").toLowerCase():ArrayBuffer.isView(r)?o().sha256(r.buffer,"hex").toLowerCase():i.z8}},{key:"moveHeadersToQuery",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.parse(JSON.stringify(t)),n=r.headers,o=r.query,i=void 0===o?{}:o,a=0,c=Object.keys(n);a<c.length;a++){var u,s=c[a],f=s.toLowerCase();"x-amz-"!==f.slice(0,6)||null!==(u=e.unhoistableHeaders)&&void 0!==u&&u.has(f)||(i[s]=n[s],delete n[s])}return m(m({},r),{},{headers:n,query:i})}},{key:"serializeQueryParameters",value:function(t,e){var r,n=[],o={},i=function(r){if(null!=e&&e.includes(r.toLowerCase()))return 1;n.push(r);var i=t[r];"string"==typeof i?o[r]="".concat(x(r),"=").concat(x(i)):Array.isArray(i)&&(o[r]=i.slice(0).sort().reduce((function(t,e){return t.concat(["".concat(x(r),"=").concat(x(e))])}),[]).join("&"))},a=y(Object.keys(t).sort());try{for(a.s();!(r=a.n()).done;){i(r.value)}}catch(t){a.e(t)}finally{a.f()}return n.map((function(t){return o[t]})).filter((function(t){return t})).join("&")}}])}(),_=function(t){function e(t,r){var n;return b(this,e),(n=f(this,e,[t,r])).name="InvalidSignatureError",n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),w(e)}(a.c);function x(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}function E(t){var e,r=(e=t,function(t){return"number"==typeof t?new Date(1e3*t):"string"==typeof t?Number(t)?new Date(1e3*Number(t)):new Date(t):t}(e).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}},680:(t,e,r)=>{"use strict";function n(t){return"function"==typeof ArrayBuffer&&(t instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(t))}function o(t){return Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n))),e}),[]).join("&")}r.d(e,{R:()=>o,m:()=>n})},340:(t,e,r)=>{"use strict";r.d(e,{LambdaClient:()=>P,LambdaInvocationError:()=>k});r(811);var n=r(639),o=r(570),i=r.n(o);const a=require("k6/encoding");var c=r.n(a),u=r(2),s=r(539),f=r(464);function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function h(t){var e="function"==typeof Map?new Map:void 0;return h=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return function(t,e,r){if(O())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var o=new(t.bind.apply(t,n));return r&&_(o,r.prototype),o}(t,arguments,j(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),_(r,t)},h(t)}function p(){p=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",b={};function g(){}function w(){}function O(){}var j={};s(j,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(A([])));_&&_!==r&&n.call(_,a)&&(j=_);var x=O.prototype=g.prototype=Object.create(j);function E(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=h(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==l(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=h(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=h(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(l(e)+" is not iterable")}return w.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,s(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(P.prototype),s(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function g(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return e=j(e),function(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],j(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function x(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=function(t,e){if("object"!=l(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==l(e)?e:e+""}var P=function(t){function e(t){var r;return m(this,e),x(r=w(this,e,[t,"lambda"]),"signature",void 0),x(r,"commonHeaders",void 0),x(r,"method",void 0),r.signature=new n.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return S(e,t),g(e,[{key:"invoke",value:(r=p().mark((function t(e,r){var n,o,a,u,s,l,h,y,v,m=arguments;return p().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={},a=(n=m.length>2&&void 0!==m[2]?m[2]:{}).invocationType||"RequestResponse",u=d(d({},this.commonHeaders),{},x(x(x({},f.V1,"AWSLambda.".concat(a)),"X-Amz-Invocation-Type",a),"X-Amz-Log-Type",n.logType||"None")),n.clientContext&&(u["X-Amz-Client-Context"]=n.clientContext),n.qualifier&&(o.Qualifier=n.qualifier),s=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/2015-03-31/functions/".concat(e,"/invocations"),query:o,headers:u,body:r||""},{}),t.next=9,i().asyncRequest(this.method,s.url,s.body,{headers:s.headers});case 9:if(l=t.sent,this._handle_error(l),h=l.headers["X-Amz-Log-Result"],y={executedVersion:l.headers["X-Amz-Executed-Version"],logResult:h?c().b64decode(h,"std","s"):void 0,statusCode:l.status,payload:l.body},!(v=l.headers["X-Amz-Function-Error"])){t.next=18;break}throw new k(v,y);case 18:return t.abrupt("return",y);case 19:case"end":return t.stop()}}),t,this)})),o=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){v(i,n,o,a,c,"next",t)}function c(t){v(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t,e){return o.apply(this,arguments)})},{key:"_handle_error",value:function(t){var e=t.error_code;if(""!=t.error||0!==e){var r=s.c.parse(t);switch(r.code){case"AuthorizationHeaderMalformed":case"InvalidSignatureException":throw new n.s(r.message,r.code);default:throw r}}}}]);var r,o}(u.R),k=function(t){function e(t,r){var n;return m(this,e),x(n=w(this,e,["".concat(t,": ").concat(r.payload)]),"response",void 0),n.response=r,n}return S(e,t),g(e)}(h(Error))},535:(t,e,r)=>{"use strict";r.d(e,{SQSClient:()=>k});r(811);var n=r(639),o=r(2),i=r(570),a=r.n(i),c=r(680),u=r(539);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",b={};function g(){}function w(){}function O(){}var j={};l(j,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(A([])));_&&_!==r&&n.call(_,a)&&(j=_);var x=O.prototype=g.prototype=Object.create(j);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==s(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(P.prototype),l(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,s=!1;try{if(i=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){s=!0,o=t}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return c}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?p(Object(r),!0).forEach((function(e){x(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function v(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){d(i,n,o,a,c,"next",t)}function c(t){d(i,n,o,a,c,"throw",t)}a(void 0)}))}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,E(n.key),n)}}function g(t,e,r){return e&&b(t.prototype,e),r&&b(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return e=j(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,O()?Reflect.construct(e,r||[],j(t).constructor):e.apply(t,r))}function O(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(O=function(){return!!t})()}function j(t){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},j(t)}function S(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_(t,e)}function x(t,e,r){return(e=E(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var P="2012-11-05",k=function(t){function e(t){var r;return m(this,e),x(r=w(this,e,[t,"sqs"]),"signature",void 0),x(r,"commonHeaders",void 0),r.signature=new n.B({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!0}),r.commonHeaders={"Content-Type":"application/x-www-form-urlencoded"},r}return S(e,t),g(e,[{key:"sendMessage",value:(o=v(f().mark((function t(e,r){var n,o,i,u,s,h,p=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={Action:"SendMessage",Version:P,QueueUrl:e,MessageBody:r},void 0!==(n=p.length>2&&void 0!==p[2]?p[2]:{}).messageDeduplicationId&&(o=y(y({},o),{},{MessageDeduplicationId:n.messageDeduplicationId})),void 0!==n.messageGroupId&&(o=y(y({},o),{},{MessageGroupId:n.messageGroupId})),void 0!==n.messageAttributes&&(i=Object.entries(n.messageAttributes).reduce((function(t,e,r){var n=l(e,2),o=n[0],i=n[1],a="Binary"===i.type?"BinaryValue":"StringValue";return Object.assign(t,x(x(x({},"MessageAttribute.".concat(r+1,".Name"),o),"MessageAttribute.".concat(r+1,".Value.").concat(a),i.value),"MessageAttribute.".concat(r+1,".Value.DataType"),i.type))}),{}),o=y(y({},o),i)),void 0!==n.delaySeconds&&(o=y(y({},o),{},{DelaySeconds:n.delaySeconds})),u=this.signature.sign({method:"POST",endpoint:this.endpoint,path:"/",headers:y({},this.commonHeaders),body:(0,c.R)(o)},{}),t.next=10,a().asyncRequest("POST",u.url,u.body||"",{headers:u.headers});case 10:return s=t.sent,this._handleError("SendMessage",s),h=s.html("SendMessageResponse > SendMessageResult"),t.abrupt("return",new L(h.find("MessageId").text(),h.find("MD5OfMessageBody").text()));case 14:case"end":return t.stop()}}),t,this)}))),function(t,e){return o.apply(this,arguments)})},{key:"listQueues",value:(r=v(f().mark((function t(){var e,r,n,o,i,u=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={Action:"ListQueues",Version:P},void 0!==(null==(e=u.length>0&&void 0!==u[0]?u[0]:{})?void 0:e.maxResults)&&(r=y(y({},r),{},{MaxResults:e.maxResults})),void 0!==(null==e?void 0:e.nextToken)&&(r=y(y({},r),{},{NextToken:e.nextToken})),void 0!==(null==e?void 0:e.queueNamePrefix)&&(r=y(y({},r),{},{QueueNamePrefix:e.queueNamePrefix})),n=this.signature.sign({method:"POST",endpoint:this.endpoint,path:"/",headers:y(y({},this.commonHeaders),{},{Host:this.endpoint.host}),body:(0,c.R)(r)},{}),t.next=9,a().asyncRequest("POST",n.url,n.body||"",{headers:n.headers});case 9:return o=t.sent,this._handleError("ListQueues",o),i=o.html(),t.abrupt("return",{urls:i.find("QueueUrl").toArray().map((function(t){return t.text()})),nextToken:i.find("NextToken").text()||void 0});case 13:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"_handleError",value:function(t,e){var r=e.error_code;if(""!=e.error||0!==r){var o=u.c.parseXML(e.body);if("AuthorizationHeaderMalformed"===o.code)throw new n.s(o.message,o.code);throw new T(o.message,o.code||"unknown",t)}}}]);var r,o}(o.R),L=g((function t(e,r){m(this,t),x(this,"id",void 0),x(this,"bodyMD5",void 0),this.id=e,this.bodyMD5=r})),T=function(t){function e(t,r,n){var o;return m(this,e),x(o=w(this,e,[t,r]),"operation",void 0),o.name="SQSServiceError",o.operation=n,o}return S(e,t),g(e)}(u.c)},414:(t,e,r)=>{var n=r(33),o=r(550),i=o;i.v1=n,i.v4=o,t.exports=i},471:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},814:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)3&e||(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},33:(t,e,r)=>{var n,o,i=r(814),a=r(471),c=0,u=0;t.exports=function(t,e,r){var s=e&&r||0,f=e||[],l=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==h){var p=i();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var y=void 0!==t.msecs?t.msecs:(new Date).getTime(),d=void 0!==t.nsecs?t.nsecs:u+1,v=y-c+(d-u)/1e4;if(v<0&&void 0===t.clockseq&&(h=h+1&16383),(v<0||y>c)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=y,u=d,o=h;var m=(1e4*(268435455&(y+=122192928e5))+d)%4294967296;f[s++]=m>>>24&255,f[s++]=m>>>16&255,f[s++]=m>>>8&255,f[s++]=255&m;var b=y/4294967296*1e4&268435455;f[s++]=b>>>8&255,f[s++]=255&b,f[s++]=b>>>24&15|16,f[s++]=b>>>16&255,f[s++]=h>>>8|128,f[s++]=255&h;for(var g=0;g<6;++g)f[s+g]=l[g];return e||a(f)}},550:(t,e,r)=>{var n=r(814),o=r(471);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var c=0;c<16;++c)e[i+c]=a[c];return e||o(a)}},275:t=>{"use strict";t.exports=require("k6/crypto")},95:t=>{"use strict";t.exports=require("k6/html")},570:t=>{"use strict";t.exports=require("k6/http")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{AMZ_CONTENT_SHA256_HEADER:()=>o.b2,AWSConfig:()=>e.g,Endpoint:()=>N.y,EventBridgeClient:()=>Te,InvalidAWSConfigError:()=>e.r,InvalidSignatureError:()=>t.s,KMSClient:()=>x,KMSDataKey:()=>P,KMSServiceError:()=>k,KinesisClient:()=>oe,LambdaClient:()=>Ae.LambdaClient,LambdaInvocationError:()=>Ae.LambdaInvocationError,S3Bucket:()=>X,S3Client:()=>Q,S3Object:()=>Y,S3ServiceError:()=>tt,SQSClient:()=>Ht.SQSClient,Secret:()=>gt,SecretsManagerClient:()=>bt,SecretsManagerServiceError:()=>wt,SignatureV4:()=>t.B,SystemsManagerClient:()=>Mt,SystemsManagerParameter:()=>Gt,SystemsManagerServiceError:()=>Kt,UNSIGNED_PAYLOAD:()=>o.z8});var t=r(639),e=r(811),o=r(464),i=r(570),a=r.n(i),c=r(2),u=r(539);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function h(t,e,r,n){var i=e&&e.prototype instanceof g?e:g,a=Object.create(i.prototype),c=new C(n||[]);return o(a,"_invoke",{value:k(t,r,c)}),a}function p(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var y="suspendedStart",d="suspendedYield",v="executing",m="completed",b={};function g(){}function w(){}function O(){}var j={};l(j,a,(function(){return this}));var S=Object.getPrototypeOf,_=S&&S(S(A([])));_&&_!==r&&n.call(_,a)&&(j=_);var x=O.prototype=g.prototype=Object.create(j);function E(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function P(t,e){function r(o,i,a,c){var u=p(t[o],t,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==s(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function k(e,r,n){var o=y;return function(i,a){if(o===v)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=L(c,n);if(u){if(u===b)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===y)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var s=p(e,r,n);if("normal"===s.type){if(o=n.done?m:d,s.arg===b)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=m,n.method="throw",n.arg=s.arg)}}}function L(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function C(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(s(e)+" is not iterable")}return w.prototype=O,o(x,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=l(O,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,O):(t.__proto__=O,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(P.prototype),l(P.prototype,c,(function(){return this})),e.AsyncIterator=P,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new P(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(x),l(x,u,"Generator"),l(x,a,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),b},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),b}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},e}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function y(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,c,"next",t)}function c(t){p(i,n,o,a,c,"throw",t)}a(void 0)}))}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_(n.key),n)}}function m(t,e,r){return e&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function b(t,e,r){return e=w(e),function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,g()?Reflect.construct(e,r||[],w(t).constructor):e.apply(t,r))}function g(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(g=function(){return!!t})()}function w(t){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w(t)}function O(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j(t,e)}function j(t,e){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},j(t,e)}function S(t,e,r){return(e=_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _(t){var e=function(t,e){if("object"!=s(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==s(e)?e:e+""}var x=function(e){function r(e){var n;return d(this,r),S(n=b(this,r,[e,"kms"]),"signature",void 0),S(n,"method",void 0),S(n,"commonHeaders",void 0),n.signature=new t.B({service:n.serviceName,region:e.region,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,sessionToken:e.sessionToken},uriEscapePath:!0,applyChecksum:!1}),n.method="POST",n.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},n}return O(r,e),m(r,[{key:"listKeys",value:(i=y(f().mark((function t(){var e,r,n;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:h(h({},this.commonHeaders),{},S({},o.V1,"TrentService.ListKeys")),body:JSON.stringify({})},{}),t.next=3,a().asyncRequest(this.method,e.url,e.body,{headers:e.headers});case 3:return r=t.sent,this._handle_error(L.ListKeys,r),n=r.json("Keys"),t.abrupt("return",n.map((function(t){return E.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"generateDataKey",value:(n=y(f().mark((function t(e){var r,n,i,c=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:T.Size256,n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:h(h({},this.commonHeaders),{},S({},o.V1,"TrentService.GenerateDataKey")),body:JSON.stringify({KeyId:e,NumberOfBytes:r})},{}),t.next=4,a().asyncRequest(this.method,n.url,n.body,{headers:n.headers});case 4:return i=t.sent,this._handle_error(L.GenerateDataKey,i),t.abrupt("return",P.fromJSON(i.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.s(i,o.__type);throw new k(i,o.__type,e)}if(1500===n)throw new k("An error occured on the server side","InternalServiceError",e)}}}]);var n,i}(c.R),E=function(){function t(e,r){d(this,t),S(this,"keyArn",void 0),S(this,"keyId",void 0),this.keyArn=e,this.keyId=r}return m(t,null,[{key:"fromJSON",value:function(e){return new t(e.KeyArn,e.KeyId)}}])}(),P=function(){function t(e,r,n){d(this,t),S(this,"id",void 0),S(this,"ciphertextBlob",void 0),S(this,"plaintext",void 0),this.ciphertextBlob=e,this.id=r,this.plaintext=n}return m(t,null,[{key:"fromJSON",value:function(e){return new t(e.CiphertextBlob,e.KeyId,e.Plaintext)}}])}(),k=function(t){function e(t,r,n){var o;return d(this,e),S(o=b(this,e,[t,r]),"operation",void 0),o.name="KMSServiceError",o.operation=n,o}return O(e,t),m(e)}(u.c),L=function(t){return t.GenerateDataKey="GenerateDataKey",t.ListKeys="ListKeys",t}(L||{}),T=function(t){return t[t.Size256=32]="Size256",t[t.Size512=64]="Size512",t}(T||{}),N=r(556),C=r(95);function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?R(Object(r),!0).forEach((function(e){J(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(){D=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(N([])));j&&j!==r&&n.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==A(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(A(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function M(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function G(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){M(i,n,o,a,c,"next",t)}function c(t){M(i,n,o,a,c,"throw",t)}a(void 0)}))}}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,W(n.key),n)}}function H(t,e,r){return e&&q(t.prototype,e),r&&q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function z(t,e,r){return e=F(e),function(t,e){if(e&&("object"===A(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,B()?Reflect.construct(e,r||[],F(t).constructor):e.apply(t,r))}function B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(B=function(){return!!t})()}function F(t){return F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},F(t)}function V(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}function U(t,e){return U=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},U(t,e)}function J(t,e,r){return(e=W(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W(t){var e=function(t,e){if("object"!=A(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=A(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==A(e)?e:e+""}var Q=function(e){function r(e){var n;return K(this,r),J(n=z(this,r,[e,"s3"]),"signature",void 0),n.signature=new t.B({service:n.serviceName,region:n.awsConfig.region,credentials:{accessKeyId:n.awsConfig.accessKeyId,secretAccessKey:n.awsConfig.secretAccessKey,sessionToken:n.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),n}return V(r,e),H(r,[{key:"listBuckets",value:(y=G(D().mark((function t(){var e,r,n;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:"GET",endpoint:this.endpoint,path:"/",headers:{}},{}),t.next=4,a().asyncRequest("GET",e.url,e.body||null,{headers:e.headers});case 4:return r=t.sent,this._handle_error("ListBuckets",r),n=[],(0,C.parseHTML)(r.body).find("Buckets").children().each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"name":Object.assign(r,{name:t.textContent()});break;case"creationdate":Object.assign(r,{creationDate:Date.parse(t.textContent())})}})),n.push(r)})),t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(){return y.apply(this,arguments)})},{key:"listObjects",value:(p=G(D().mark((function t(e,r){var n,o,i;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"GET",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/")),query:{"list-type":"2",prefix:r||""},headers:{}},{}),t.next=4,a().asyncRequest("GET",n.url,n.body||null,{headers:n.headers});case 4:return o=t.sent,this._handle_error("ListObjectsV2",o),i=[],(0,C.parseHTML)(o.body).find("Contents").each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"key":Object.assign(r,{key:t.textContent()});break;case"lastmodified":Object.assign(r,{lastModified:Date.parse(t.textContent())});break;case"etag":Object.assign(r,{etag:t.textContent()});break;case"size":Object.assign(r,{size:parseInt(t.textContent())});break;case"storageclass":Object.assign(r,{storageClass:t.textContent()})}})),i.push(r)})),t.abrupt("return",i);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return p.apply(this,arguments)})},{key:"getObject",value:(h=G(D().mark((function t(e,r){var n,o,i;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.signature.sign({method:"GET",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:{}},{}),t.next=4,a().asyncRequest("GET",o.url,null,{headers:o.headers});case 4:return i=t.sent,this._handle_error("GetObject",i),t.abrupt("return",new Y(r,Date.parse(i.headers["Last-Modified"]),i.headers.ETag,parseInt(i.headers["Content-Length"]),null!==(n=i.headers["X-Amz-Storage-Class"])&&void 0!==n?n:"STANDARD",i.body));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return h.apply(this,arguments)})},{key:"putObject",value:(l=G(D().mark((function t(e,r,n,o){var i,c;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.signature.sign({method:"PUT",endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:I(I(I(I(I({Host:this.endpoint.host},(null==o?void 0:o.contentDisposition)&&{"Content-Disposition":o.contentDisposition}),(null==o?void 0:o.contentEncoding)&&{"Content-Encoding":o.contentEncoding}),(null==o?void 0:o.contentLength)&&{"Content-Length":o.contentLength}),(null==o?void 0:o.contentMD5)&&{"Content-MD5":o.contentMD5}),(null==o?void 0:o.contentType)&&{"Content-Type":o.contentType}),body:n},{}),t.next=4,a().asyncRequest("PUT",i.url,i.body,{headers:i.headers});case 4:c=t.sent,this._handle_error("PutObject",c);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return l.apply(this,arguments)})},{key:"deleteObject",value:(f=G(D().mark((function t(e,r){var n,o,i;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="DELETE",o=this.signature.sign({method:n,endpoint:this.endpoint,path:encodeURI("/".concat(e,"/").concat(r)),headers:{}},{}),t.next=4,a().asyncRequest(n,o.url,o.body||null,{headers:o.headers});case 4:i=t.sent,this._handle_error("DeleteObject",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"copyObject",value:(s=G(D().mark((function t(e,r,n,o){var i,c,u;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(i=this.endpoint.copy()).hostname="".concat(n,".").concat(this.endpoint.hostname),c=this.signature.sign({method:"PUT",endpoint:i,path:encodeURI("/".concat(o)),headers:{"x-amz-copy-source":"".concat(e,"/").concat(r)}},{}),t.next=6,a().asyncRequest("PUT",c.url,c.body||null,{headers:c.headers});case 6:u=t.sent,this._handle_error("CopyObject",u);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return s.apply(this,arguments)})},{key:"createMultipartUpload",value:(c=G(D().mark((function t(e,r){var n,o,i,c;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="POST",(o=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),i=this.signature.sign({method:n,endpoint:o,path:encodeURI("/".concat(r)),headers:{},query:{uploads:""}},{}),t.next=6,a().asyncRequest(n,i.url,i.body||null,{headers:i.headers});case 6:return c=t.sent,this._handle_error("CreateMultipartUpload",c),t.abrupt("return",new Z(r,(0,C.parseHTML)(c.body).find("UploadId").text()));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"uploadPart",value:(i=G(D().mark((function t(e,r,n,o,i){var c,u,s;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(c=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),u=this.signature.sign({method:"PUT",endpoint:c,path:encodeURI("/".concat(r)),headers:{},body:i,query:{partNumber:"".concat(o),uploadId:"".concat(n)}},{}),t.next=6,a().asyncRequest("PUT",u.url,u.body||null,{headers:u.headers});case 6:return s=t.sent,this._handle_error("UploadPart",s),t.abrupt("return",new $(o,s.headers.Etag));case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,o){return i.apply(this,arguments)})},{key:"completeMultipartUpload",value:(o=G(D().mark((function t(e,r,n,o){var i,c,u,s,f;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="POST",c="<CompleteMultipartUpload>".concat(o.map((function(t){return"<Part><PartNumber>".concat(t.partNumber,"</PartNumber><ETag>").concat(t.eTag,"</ETag></Part>")})).join(""),"</CompleteMultipartUpload>"),(u=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),s=this.signature.sign({method:i,endpoint:u,path:encodeURI("/".concat(r)),headers:{},body:c,query:{uploadId:"".concat(n)}},{}),t.next=7,a().asyncRequest(i,s.url,s.body||null,{headers:s.headers});case 7:f=t.sent,this._handle_error("CompleteMultipartUpload",f);case 9:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return o.apply(this,arguments)})},{key:"abortMultipartUpload",value:(n=G(D().mark((function t(e,r,n){var o,i,c,u;return D().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="DELETE",(i=this.endpoint.copy()).hostname="".concat(e,".").concat(this.endpoint.hostname),c=this.signature.sign({method:o,endpoint:i,path:encodeURI("/".concat(r)),headers:{},query:{uploadId:"".concat(n)}},{}),t.next=6,a().asyncRequest(o,c.url,c.body||null,{headers:c.headers});case 6:u=t.sent,this._handle_error("AbortMultipartUpload",u);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.status,o=r.error_code,i=r.error;if(!(n>=200&&n<300&&""==i&&0===o)){if(301==n||i&&i.startsWith("301"))throw new tt("Resource not found","ResourceNotFound",e);var a=u.c.parseXML(r.body);if("AuthorizationHeaderMalformed"===a.code)throw new t.s(a.message,a.code);throw new tt(a.message,a.code||"unknown",e)}}}]);var n,o,i,c,s,f,l,h,p,y}(c.R),X=H((function t(e,r){K(this,t),J(this,"name",void 0),J(this,"creationDate",void 0),this.name=e,this.creationDate=r})),Y=H((function t(e,r,n,o,i,a){K(this,t),J(this,"key",void 0),J(this,"lastModified",void 0),J(this,"etag",void 0),J(this,"size",void 0),J(this,"storageClass",void 0),J(this,"data",void 0),this.key=e,this.lastModified=r,this.etag=n,this.size=o,this.storageClass=i,this.data=a})),Z=H((function t(e,r){K(this,t),J(this,"key",void 0),J(this,"uploadId",void 0),this.key=e,this.uploadId=r})),$=H((function t(e,r){K(this,t),J(this,"partNumber",void 0),J(this,"eTag",void 0),this.partNumber=e,this.eTag=r})),tt=function(t){function e(t,r,n){var o;return K(this,e),J(o=z(this,e,[t,r]),"operation",void 0),o.name="S3ServiceError",o.operation=n,o}return V(e,t),H(e)}(u.c),et=r(414);function rt(t){return rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rt(t)}function nt(){nt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(N([])));j&&j!==r&&n.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==rt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(rt(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ot(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function it(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(r),!0).forEach((function(e){vt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function at(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ct(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){at(i,n,o,a,c,"next",t)}function c(t){at(i,n,o,a,c,"throw",t)}a(void 0)}))}}function ut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mt(n.key),n)}}function ft(t,e,r){return e&&st(t.prototype,e),r&&st(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lt(t,e,r){return e=pt(e),function(t,e){if(e&&("object"===rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,ht()?Reflect.construct(e,r||[],pt(t).constructor):e.apply(t,r))}function ht(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(ht=function(){return!!t})()}function pt(t){return pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},pt(t)}function yt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}function dt(t,e){return dt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},dt(t,e)}function vt(t,e,r){return(e=mt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mt(t){var e=function(t,e){if("object"!=rt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rt(e)?e:e+""}var bt=function(e){function r(e){var n;return ut(this,r),vt(n=lt(this,r,[e,"secretsmanager"]),"signature",void 0),vt(n,"method",void 0),vt(n,"commonHeaders",void 0),n.signature=new t.B({service:n.serviceName,region:n.awsConfig.region,credentials:{accessKeyId:n.awsConfig.accessKeyId,secretAccessKey:n.awsConfig.secretAccessKey,sessionToken:n.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),n.method="POST",n.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},n}return yt(r,e),ft(r,[{key:"listSecrets",value:(s=ct(nt().mark((function t(){var e,r,n;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:it(it({},this.commonHeaders),{},vt({},o.V1,"".concat(this.serviceName,".ListSecrets"))),body:JSON.stringify({})},{}),t.next=3,a().asyncRequest(this.method,e.url,e.body,{headers:e.headers});case 3:return r=t.sent,this._handle_error(Ot.ListSecrets,r),n=r.json("SecretList"),t.abrupt("return",n.map((function(t){return gt.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"getSecret",value:(u=ct(nt().mark((function t(e){var r,n;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:it(it({},this.commonHeaders),{},vt({},o.V1,"".concat(this.serviceName,".GetSecretValue"))),body:JSON.stringify({SecretId:e})},{}),t.next=3,a().asyncRequest(this.method,r.url,r.body,{headers:r.headers});case 3:return n=t.sent,this._handle_error(Ot.GetSecretValue,n),t.abrupt("return",gt.fromJSON(n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"createSecret",value:(c=ct(nt().mark((function t(e,r,n,i,c){var u,s;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i||(0,et.v4)(),u=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:it(it({},this.commonHeaders),{},vt({},o.V1,"".concat(this.serviceName,".CreateSecret"))),body:JSON.stringify({Name:e,Description:n,SecretString:r,ClientRequestToken:i,Tags:c})},{}),t.next=4,a().asyncRequest(this.method,u.url,u.body,{headers:u.headers});case 4:return s=t.sent,this._handle_error(Ot.CreateSecret,s),t.abrupt("return",gt.fromJSON(s.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,o){return c.apply(this,arguments)})},{key:"putSecretValue",value:(i=ct(nt().mark((function t(e,r,n){var i,c;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=n||(0,et.v4)(),i=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:it(it({},this.commonHeaders),{},vt({},o.V1,"".concat(this.serviceName,".PutSecretValue"))),body:JSON.stringify({SecretId:e,SecretString:r,ClientRequestToken:n})},{}),t.next=4,a().asyncRequest(this.method,i.url,i.body,{headers:i.headers});case 4:return c=t.sent,this._handle_error(Ot.PutSecretValue,c),t.abrupt("return",gt.fromJSON(c.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"deleteSecret",value:(n=ct(nt().mark((function t(e,r){var n,i,c,u,s,f;return nt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.recoveryWindow,i=void 0===n?30:n,c=r.noRecovery,u={SecretId:e},!0===(void 0!==c&&c)?u.ForceDeleteWithoutRecovery=!0:u.RecoveryWindowInDays=i,s=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:it(it({},this.commonHeaders),{},vt({},o.V1,"".concat(this.serviceName,".DeleteSecret"))),body:JSON.stringify(u)},{}),t.next=6,a().asyncRequest(this.method,s.url,s.body,{headers:s.headers});case 6:f=t.sent,this._handle_error(Ot.DeleteSecret,f);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.s(i,o.__type);throw new wt(i,o.__type,e)}if(1500===n)throw new wt("An error occured on the server side","InternalServiceError",e)}}}]);var n,i,c,u,s}(c.R),gt=function(){function t(e,r,n,o,i,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];ut(this,t),vt(this,"name",void 0),vt(this,"arn",void 0),vt(this,"secret",void 0),vt(this,"createdDate",void 0),vt(this,"lastAccessedDate",void 0),vt(this,"lastChangedDate",void 0),vt(this,"tags",void 0),this.name=e,this.arn=r,this.secret=n,this.createdDate=o,this.lastAccessedDate=i,this.lastChangedDate=a,this.tags=c}return ft(t,null,[{key:"fromJSON",value:function(e){return new t(e.Name,e.ARN,e.SecretString,e.CreatedDate,e.LastAccessedDate,e.LastChangedDate,e.Tags)}}])}(),wt=function(t){function e(t,r,n){var o;return ut(this,e),vt(o=lt(this,e,[t,r]),"operation",void 0),o.name="SecretsManagerServiceError",o.operation=n,o}return yt(e,t),ft(e)}(u.c),Ot=function(t){return t.ListSecrets="ListSecrets",t.GetSecretValue="GetSecretValue",t.CreateSecret="CreateSecret",t.PutSecretValue="PutSecretValue",t.DeleteSecret="DeleteSecret",t}(Ot||{});function jt(t){return jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(t)}function St(){St=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(N([])));j&&j!==r&&n.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==jt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(jt(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function _t(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(r),!0).forEach((function(e){It(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_t(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Et(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dt(n.key),n)}}function Lt(t,e,r){return e&&kt(t.prototype,e),r&&kt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tt(t,e,r){return e=Ct(e),function(t,e){if(e&&("object"===jt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nt()?Reflect.construct(e,r||[],Ct(t).constructor):e.apply(t,r))}function Nt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Nt=function(){return!!t})()}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function At(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rt(t,e)}function Rt(t,e){return Rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rt(t,e)}function It(t,e,r){return(e=Dt(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dt(t){var e=function(t,e){if("object"!=jt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=jt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jt(e)?e:e+""}var Mt=function(e){function r(e){var n;return Pt(this,r),It(n=Tt(this,r,[e,"ssm"]),"signature",void 0),It(n,"method",void 0),It(n,"commonHeaders",void 0),n.method="POST",n.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},n.signature=new t.B({service:n.serviceName,region:e.region,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey,sessionToken:e.sessionToken},uriEscapePath:!0,applyChecksum:!1}),n}return At(r,e),Lt(r,[{key:"getParameter",value:(n=St().mark((function t(e){var r,n,i,c=arguments;return St().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>1&&void 0!==c[1]&&c[1],n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:xt(xt({},this.commonHeaders),{},It({},o.V1,"AmazonSSM.GetParameter")),body:JSON.stringify({Name:e,WithDecryption:r})},{}),t.next=4,a().asyncRequest(this.method,n.url,n.body,{headers:n.headers});case 4:return i=t.sent,this._handle_error(qt.GetParameter,i),t.abrupt("return",Gt.fromJSON(i.json()));case 7:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){Et(i,r,o,a,c,"next",t)}function c(t){Et(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.s(i,o.__type);throw new Kt(i,o.__type,e)}if(1500===n)throw new Kt("An error occured on the server side","InternalServiceError",e)}}}]);var n,i}(c.R),Gt=function(){function t(e,r,n,o,i,a,c,u,s){Pt(this,t),It(this,"arn",void 0),It(this,"dataType",void 0),It(this,"lastModifiedDate",void 0),It(this,"name",void 0),It(this,"selector",void 0),It(this,"sourceResult",void 0),It(this,"type",void 0),It(this,"value",void 0),It(this,"version",void 0),this.arn=e,this.dataType=r,this.lastModifiedDate=n,this.name=o,this.selector=i,this.sourceResult=a,this.type=c,this.value=u,this.version=s}return Lt(t,null,[{key:"fromJSON",value:function(e){var r=e.Parameter;return new t(r.ARN,r.DataType,r.LastModifiedDate,r.Name,r.Selector,r.SourceResult,r.Type,r.Value,r.Version)}}])}(),Kt=function(t){function e(t,r,n){var o;return Pt(this,e),It(o=Tt(this,e,[t,r]),"operation",void 0),o.name="SystemsManagerServiceError",o.operation=n,o}return At(e,t),Lt(e)}(u.c),qt=function(t){return t.GetParameter="GetParameter",t}(qt||{}),Ht=r(535);function zt(t){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zt(t)}function Bt(){Bt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(N([])));j&&j!==r&&n.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==zt(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(zt(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function Ft(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(r),!0).forEach((function(e){re(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ut(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Jt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){Ut(i,n,o,a,c,"next",t)}function c(t){Ut(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ne(n.key),n)}}function Xt(t,e,r){return e&&Qt(t.prototype,e),r&&Qt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yt(t,e,r){return e=$t(e),function(t,e){if(e&&("object"===zt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Zt()?Reflect.construct(e,r||[],$t(t).constructor):e.apply(t,r))}function Zt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(Zt=function(){return!!t})()}function $t(t){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(t)}function te(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ee(t,e)}function ee(t,e){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ee(t,e)}function re(t,e,r){return(e=ne(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ne(t){var e=function(t,e){if("object"!=zt(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zt(e)?e:e+""}var oe=function(e){function r(e){var n;return Wt(this,r),re(n=Yt(this,r,[e,"kinesis"]),"signature",void 0),re(n,"commonHeaders",void 0),re(n,"serviceVersion",void 0),n.serviceVersion="Kinesis_20131202",n.signature=new t.B({service:n.serviceName,region:n.awsConfig.region,credentials:{accessKeyId:n.awsConfig.accessKeyId,secretAccessKey:n.awsConfig.secretAccessKey,sessionToken:n.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),n.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},n}return te(r,e),Xt(r,[{key:"createStream",value:(h=Jt(Bt().mark((function t(e){var r,n,o=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vt(Vt({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).shardCount&&{ShardCount:r.shardCount}),r.streamModeDetails&&{StreamMode:r.streamModeDetails.streamMode}),t.next=4,this._send_request("CreateStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return h.apply(this,arguments)})},{key:"deleteStream",value:(l=Jt(Bt().mark((function t(e){var r,n,o=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vt(Vt({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).streamARN&&{StreamARN:r.streamARN}),r.enforceConsumerDeletion&&{EnforceConsumerDeletion:r.enforceConsumerDeletion}),t.next=4,this._send_request("DeleteStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return l.apply(this,arguments)})},{key:"listStreams",value:(f=Jt(Bt().mark((function t(){var e,r,n,o=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Vt(Vt(Vt({},(e=o.length>0&&void 0!==o[0]?o[0]:{}).exclusiveStartStreamName&&{ExclusiveStartStreamName:e.exclusiveStartStreamName}),e.limit&&{Limit:e.limit}),e.nextToken&&{NextToken:e.nextToken}),t.next=4,this._send_request("ListStreams",r);case 4:return n=t.sent,t.abrupt("return",ae.fromJson(null==n?void 0:n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"putRecords",value:(s=Jt(Bt().mark((function t(e){var r,n,o,i=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.length>1&&void 0!==i[1]?i[1]:{}).streamName||r.streamARN){t.next=3;break}throw new Error("Either streamName or streamARN must be provided");case 3:return n=Vt(Vt({Records:e},r.streamName&&{StreamName:r.streamName}),r.streamARN&&{StreamARN:r.streamARN}),t.next=6,this._send_request("PutRecords",n);case 6:return o=t.sent,t.abrupt("return",ue.fromJson(null==o?void 0:o.json()));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"getRecords",value:(u=Jt(Bt().mark((function t(e){var r,n,o,i=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vt(Vt({ShardIterator:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).limit&&{Limit:r.limit}),r.streamARN&&{StreamARN:r.streamARN}),t.next=4,this._send_request("GetRecords",n);case 4:return o=t.sent,t.abrupt("return",fe.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"listShards",value:(c=Jt(Bt().mark((function t(e){var r,n,o,i=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Vt(Vt({StreamName:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).nextToken&&{NextToken:r.nextToken}),r.maxResults&&{MaxResults:r.maxResults}),t.next=4,this._send_request("ListShards",n);case 4:return o=t.sent,t.abrupt("return",he.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"getShardIterator",value:(i=Jt(Bt().mark((function t(e,r,n){var o,i,a,c=arguments;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=Vt(Vt({StreamName:e,ShardId:r,ShardIteratorType:n},(o=c.length>3&&void 0!==c[3]?c[3]:{}).startingSequenceNumber&&{StartingSequenceNumber:o.startingSequenceNumber}),o.timestamp&&{Timestamp:o.timestamp}),t.next=4,this._send_request("GetShardIterator",i);case 4:return a=t.sent,t.abrupt("return",ye.fromJson(null==a?void 0:a.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return i.apply(this,arguments)})},{key:"_send_request",value:(n=Jt(Bt().mark((function t(e,r){var n,i;return Bt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"POST",endpoint:this.endpoint,path:"/",headers:Vt(Vt({},this.commonHeaders),{},re({},o.V1,"".concat(this.serviceVersion,".").concat(e))),body:JSON.stringify(r)},{}),t.next=3,a().asyncRequest("POST",n.url,n.body,{headers:n.headers});case 3:return i=t.sent,this._handle_error(e,i),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return n.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.s(i,o.__type);throw new ie(i,o.__type,e)}if(1500===n)throw new ie("An error occured on the server side","InternalServiceError",e)}}}]);var n,i,c,u,s,f,l,h}(c.R),ie=function(t){function e(t,r,n){var o;return Wt(this,e),re(o=Yt(this,e,[t,r]),"operation",void 0),o.name="KinesisServiceError",o.operation=n,o}return te(e,t),Xt(e)}(u.c),ae=function(){function t(e,r,n,o){Wt(this,t),re(this,"hasMoreStreams",void 0),re(this,"nextToken",void 0),re(this,"streamNames",void 0),re(this,"streamSummaries",void 0),this.hasMoreStreams=e,this.nextToken=r,this.streamNames=n,this.streamSummaries=o}return Xt(t,null,[{key:"fromJson",value:function(e){var r=e.HasMoreStreams,n=void 0!==r&&r,o=e.NextToken,i=void 0===o?"":o,a=e.StreamNames,c=void 0===a?[]:a,u=e.StreamSummaries,s=void 0===u?[]:u;return new t(n,i,c,null==s?void 0:s.map(ce.fromJson))}}])}(),ce=function(){function t(e,r,n,o,i){Wt(this,t),re(this,"streamARN",void 0),re(this,"streamCreationTimestamp",void 0),re(this,"streamModeDetails",void 0),re(this,"streamName",void 0),re(this,"streamStatus",void 0),this.streamARN=e,this.streamCreationTimestamp=r,this.streamModeDetails=n,this.streamName=o,this.streamStatus=i}return Xt(t,null,[{key:"fromJson",value:function(e){var r=e.StreamARN,n=void 0===r?"":r,o=e.StreamCreationTimestamp,i=void 0===o?0:o,a=e.StreamModeDetails,c=void 0===a?{}:a,u=e.StreamName,s=void 0===u?"":u,f=e.StreamStatus;return new t(n,i,c,s,void 0===f?"":f)}}])}(),ue=function(){function t(e,r,n){Wt(this,t),re(this,"encryptionType",void 0),re(this,"failedRecordCount",void 0),re(this,"records",void 0),this.encryptionType=e,this.failedRecordCount=r,this.records=n}return Xt(t,null,[{key:"fromJson",value:function(e){var r=e.EncryptionType,n=void 0===r?"NONE":r,o=e.FailedRecordCount,i=void 0===o?0:o,a=e.Records;return new t(n,i,(void 0===a?[]:a).map(se.fromJson))}}])}(),se=function(){function t(e,r){Wt(this,t),re(this,"sequenceNumber",void 0),re(this,"shardId",void 0),this.sequenceNumber=e,this.shardId=r}return Xt(t,null,[{key:"fromJson",value:function(e){return new t(e.SequenceNumber,e.ShardId)}}])}(),fe=function(){function t(e,r,n){Wt(this,t),re(this,"nextShardIterator",void 0),re(this,"records",void 0),re(this,"millisBehindLatest",void 0),this.nextShardIterator=e,this.records=r,this.millisBehindLatest=n}return Xt(t,null,[{key:"fromJson",value:function(e){var r=e.NextShardIterator,n=void 0===r?"":r,o=e.Records,i=void 0===o?[]:o,a=e.MillisBehindLatest,c=void 0===a?0:a;return new t(n,i.map(le.fromJson),c)}}])}(),le=function(){function t(e,r,n){Wt(this,t),re(this,"data",void 0),re(this,"partitionKey",void 0),re(this,"sequenceNumber",void 0),this.data=e,this.partitionKey=r,this.sequenceNumber=n}return Xt(t,null,[{key:"fromJson",value:function(e){return new t(e.Data,e.PartitionKey,e.SequenceNumber)}}])}(),he=function(){function t(e,r){Wt(this,t),re(this,"shards",void 0),re(this,"nextToken",void 0),this.shards=e,this.nextToken=r}return Xt(t,null,[{key:"fromJson",value:function(e){var r=e.Shards,n=void 0===r?[]:r,o=e.NextToken;return new t(n.map(pe.fromJson),o)}}])}(),pe=function(){function t(e,r,n,o,i){Wt(this,t),re(this,"id",void 0),re(this,"parentShardId",void 0),re(this,"adjacentParentShardId",void 0),re(this,"hashKeyRange",void 0),re(this,"sequenceNumberRange",void 0),this.id=e,this.parentShardId=o,this.adjacentParentShardId=i,this.hashKeyRange=r,this.sequenceNumberRange=n}return Xt(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardId,e.HashKeyRange,e.SequenceNumberRange,e.ParentShardId,e.AdjacentParentShardId)}}])}(),ye=function(){function t(e){Wt(this,t),re(this,"shardIterator",void 0),this.shardIterator=e}return Xt(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardIterator)}}])}();function de(t){return de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},de(t)}function ve(){ve=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof m?e:m,a=Object.create(i.prototype),c=new T(n||[]);return o(a,"_invoke",{value:E(t,r,c)}),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",v={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(N([])));j&&j!==r&&n.call(j,a)&&(w=j);var S=g.prototype=m.prototype=Object.create(w);function _(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function x(t,e){function r(o,i,a,c){var u=l(t[o],t,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==de(f)&&n.call(f,"__await")?e.resolve(f.__await).then((function(t){r("next",t,a,c)}),(function(t){r("throw",t,a,c)})):e.resolve(f).then((function(t){s.value=t,a(s)}),(function(t){return r("throw",t,a,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return i=i?i.then(o,o):o()}})}function E(e,r,n){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===d){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var c=n.delegate;if(c){var u=P(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=l(e,r,n);if("normal"===s.type){if(o=n.done?d:p,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=d,n.method="throw",n.arg=s.arg)}}}function P(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=l(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function k(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(k,this),this.reset(!0)}function N(e){if(e||""===e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}throw new TypeError(de(e)+" is not iterable")}return b.prototype=g,o(S,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,s(t,u,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},_(x.prototype),s(x.prototype,c,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new x(f(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},_(S),s(S,u,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=N,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function me(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function be(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?me(Object(r),!0).forEach((function(e){ke(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ge(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function we(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Le(n.key),n)}}function je(t,e,r){return e&&Oe(t.prototype,e),r&&Oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Se(t,e,r){return e=xe(e),function(t,e){if(e&&("object"===de(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,_e()?Reflect.construct(e,r||[],xe(t).constructor):e.apply(t,r))}function _e(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_e=function(){return!!t})()}function xe(t){return xe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xe(t)}function Ee(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Pe(t,e)}function ke(t,e,r){return(e=Le(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Le(t){var e=function(t,e){if("object"!=de(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==de(e)?e:e+""}var Te=function(e){function r(e){var n;return we(this,r),ke(n=Se(this,r,[e,"events"]),"signature",void 0),ke(n,"method",void 0),ke(n,"commonHeaders",void 0),n.signature=new t.B({service:n.serviceName,region:n.awsConfig.region,credentials:{accessKeyId:n.awsConfig.accessKeyId,secretAccessKey:n.awsConfig.secretAccessKey,sessionToken:n.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),n.method="POST",n.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},n}return Ee(r,e),je(r,[{key:"putEvents",value:(n=ve().mark((function t(e){var r,n,i;return ve().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=be(be({},e),{},{Entries:e.Entries.map((function(t){return be(be({},t),{},{Detail:JSON.stringify(t.Detail)})}))}),n=this.signature.sign({method:this.method,endpoint:this.endpoint,path:"/",headers:be(be({},this.commonHeaders),{},ke({},o.V1,"AWSEvents.PutEvents")),body:JSON.stringify(r)},{}),t.next=4,a().asyncRequest(this.method,n.url,n.body,{headers:n.headers});case 4:i=t.sent,this._handle_error(Ne.PutEvents,i);case 6:case"end":return t.stop()}}),t,this)})),i=function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(t){ge(i,r,o,a,c,"next",t)}function c(t){ge(i,r,o,a,c,"throw",t)}a(void 0)}))},function(t){return i.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.s(i,o.__type);throw new Ce(i,o.__type,e)}if(1500===n)throw new Ce("An error occured on the server side","InternalServiceError",e)}}}]);var n,i}(c.R),Ne=function(t){return t.PutEvents="PutEvents",t}(Ne||{}),Ce=function(t){function e(t,r,n){var o;return we(this,e),ke(o=Se(this,e,[t,r]),"operation",void 0),o.name="EventBridgeServiceError",o.operation=n,o}return Ee(e,t),je(e)}(u.c),Ae=r(340)})();var o=exports;for(var i in n)o[i]=n[i];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=aws.js.map