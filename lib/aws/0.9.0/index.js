/*! For license information please see index.js.LICENSE.txt */
(()=>{var t={393:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,a(n.key),n)}}function i(t,e,r){return(e=a(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a(t){var e=function(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===n(e)?e:String(e)}r.d(e,{k:()=>c});var c=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i(this,"awsConfig",void 0),i(this,"serviceName",void 0),i(this,"_host",void 0),i(this,"_scheme",void 0),this.awsConfig=e,this.serviceName=r}var e,r,n;return e=t,(r=[{key:"host",get:function(){return null==this._host&&(this._host="".concat(this.serviceName,".").concat(this.awsConfig.region,".").concat(this.awsConfig.endpoint)),this._host},set:function(t){this._host=t}},{key:"scheme",get:function(){return null==this._scheme&&(this._scheme=this.awsConfig.scheme),this._scheme},set:function(t){this._scheme=t}}])&&o(e.prototype,r),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},592:(t,e,r)=>{"use strict";r.d(e,{$l:()=>o,Aq:()=>g,B3:()=>v,Dz:()=>y,K0:()=>n,NL:()=>s,Qk:()=>i,R$:()=>f,SG:()=>w,U4:()=>h,VR:()=>u,a_:()=>l,al:()=>b,cG:()=>c,mc:()=>p,md:()=>m,n8:()=>j,sH:()=>O,th:()=>S,w1:()=>d,zC:()=>a});var n="X-Amz-Algorithm",o="X-Amz-Credential",i="X-Amz-Date",a="X-Amz-Expires",c="X-Amz-Signature",u="X-Amz-SignedHeaders",s="X-Amz-Security-Token",f="x-amz-content-sha256",l=i.toLowerCase(),h=c.toLowerCase(),p="X-Amz-Target".toLowerCase(),d=s.toLowerCase(),y="authorization",v=[y,l,"date"],m="host",g={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},b="aws4_request",w="AWS4-HMAC-SHA256",S=604800,O="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",j="UNSIGNED-PAYLOAD"},380:(t,e,r)=>{"use strict";r.d(e,{t:()=>d});var n=r(255);function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,p(n.key),n)}}function a(t){var e=f();return function(){var r,n=h(t);if(e){var i=h(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return c(t)}(this,r)}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return u=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return s(t,arguments,h(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)},u(t)}function s(t,e,r){return s=f()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&l(o,r.prototype),o},s.apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function l(t,e){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},l(t,e)}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t){var e=function(t,e){if("object"!==o(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===o(e)?e:String(e)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(s,t);var e,r,o,u=a(s);function s(t,e){var r,n,o,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),r=u.call(this,t),n=c(r),i=void 0,(o=p(o="code"))in n?Object.defineProperty(n,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[o]=i,r.name="AWSError",r.code=e,r}return e=s,o=[{key:"parseXML",value:function(t){var e=(0,n.parseHTML)(t);return new s(e.find("Message").text(),e.find("Code").text())}}],(r=null)&&i(e.prototype,r),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),s}(u(Error))},491:(t,e,r)=>{"use strict";function n(t,e){t=t.toLowerCase();for(var r=0,n=Object.keys(e);r<n.length;r++){if(t===n[r].toLowerCase())return!0}return!1}r.d(e,{L:()=>n})},137:(t,e,r)=>{"use strict";r.d(e,{L:()=>O,w:()=>j});var n=r(400),o=r.n(n),i=r(592),a=r(380),c=r(491),u=r(23);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},f(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h(t);if(e){var o=h(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,r)}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function p(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function v(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?y(Object(r),!0).forEach((function(e){w(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,S(n.key),n)}}function b(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function w(t,e,r){return(e=S(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}var O=function(){function t(e){var r=e.service,n=e.region,o=e.credentials,i=e.uriEscapePath,a=e.applyChecksum;m(this,t),w(this,"service",void 0),w(this,"region",void 0),w(this,"credentials",void 0),w(this,"uriEscapePath",void 0),w(this,"applyChecksum",void 0),this.service=r,this.region=n,this.credentials=o,this.uriEscapePath="boolean"!=typeof i||i,this.applyChecksum="boolean"!=typeof a||a}return b(t,[{key:"sign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=v(v({},{signingDate:new Date,unsignableHeaders:new Set,signableHeaders:new Set}),e),n=_(r.signingDate),o=n.longDate,a=n.shortDate,u=r.signingService||this.service,s=r.signingRegion||this.region,f="".concat(a,"/").concat(s,"/").concat(u,"/").concat(i.al);t.headers[i.md]=t.hostname;for(var l=0,h=Object.keys(t.headers);l<h.length;l++){var p=h[l];i.B3.indexOf(p.toLowerCase())>-1&&delete t.headers[p]}t.headers[i.a_]=o,this.credentials.sessionToken&&(t.headers[i.w1]=this.credentials.sessionToken),ArrayBuffer.isView(t.body)&&(t.body=t.body.buffer),t.body||(t.body="");var d=this.computePayloadHash(t);!(0,c.L)(i.R$,t.headers)&&this.applyChecksum&&(t.headers[i.R$]=d);var y=this.computeCanonicalHeaders(t,r.unsignableHeaders,r.signableHeaders),m=this.calculateSignature(o,f,this.deriveSigningKey(this.credentials,u,s,a),this.createCanonicalRequest(t,y,d));t.headers[i.Dz]="".concat(i.SG," ")+"Credential=".concat(this.credentials.accessKeyId,"/").concat(f,", ")+"SignedHeaders=".concat(Object.keys(y).sort().join(";"),", ")+"Signature=".concat(m);var g="".concat(t.protocol,"://").concat(t.hostname);return t.path&&(g+=t.path),t.query&&(g+="?".concat(this.serializeQueryParameters(t.query))),v({url:g},t)}},{key:"presign",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.signingDate,n=void 0===r?new Date:r,o=e.expiresIn,a=void 0===o?3600:o,c=e.unsignableHeaders,u=e.unhoistableHeaders,s=e.signableHeaders,f=e.signingRegion,l=e.signingService,h=_(n),p=h.longDate,d=h.shortDate,y=f||this.region,m=l||this.service;if(a>i.th)throw new j("Signature version 4 presigned URLs can't be valid for more than 7 days");var g="".concat(d,"/").concat(y,"/").concat(m,"/").concat(i.al),b=this.moveHeadersToQuery(t,{unhoistableHeaders:u});b.headers[i.md]=t.hostname,this.credentials.sessionToken&&(b.query[i.NL]=this.credentials.sessionToken),b.query[i.K0]=i.SG,b.query[i.$l]="".concat(this.credentials.accessKeyId,"/").concat(g),b.query[i.Qk]=p,b.query[i.zC]=a.toString(10);var w=this.computeCanonicalHeaders(b,c,s);b.query[i.VR]=Object.keys(w).sort().join(";");var S=this.deriveSigningKey(this.credentials,m,y,d),O=this.computePayloadHash(t),x=this.createCanonicalRequest(b,w,O);b.query[i.cG]=this.calculateSignature(p,g,S,x);var P="".concat(b.protocol,"://").concat(b.hostname);return b.path&&(P+=b.path),b.query&&(P+="?".concat(this.serializeQueryParameters(b.query))),v({url:P},b)}},{key:"createCanonicalRequest",value:function(t,e,r){var n=Object.keys(e).sort(),o=n.map((function(t){return"".concat(t,":").concat(e[t])})).join("\n"),i=n.join(";");return"".concat(t.method,"\n")+"".concat(this.computeCanonicalURI(t),"\n")+"".concat(this.computeCanonicalQuerystring(t),"\n")+"".concat(o,"\n\n")+"".concat(i,"\n")+"".concat(r)}},{key:"createStringToSign",value:function(t,e,r){var n=o().sha256(r,"hex");return"".concat(i.SG,"\n")+"".concat(t,"\n")+"".concat(e,"\n")+"".concat(n)}},{key:"calculateSignature",value:function(t,e,r,n){var i=this.createStringToSign(t,e,n);return o().hmac("sha256",r,i,"hex")}},{key:"deriveSigningKey",value:function(t,e,r,n){var i=t.secretAccessKey,a=o().hmac("sha256","AWS4"+i,n,"binary"),c=o().hmac("sha256",a,r,"binary"),u=o().hmac("sha256",c,e,"binary");return o().hmac("sha256",u,"aws4_request","binary")}},{key:"computeCanonicalURI",value:function(t){var e=t.path;if(this.uriEscapePath){var r,n=[],o=p(e.split("/"));try{for(o.s();!(r=o.n()).done;){var i=r.value;0!==(null==i?void 0:i.length)&&("."!==i&&(".."===i?n.pop():n.push(i)))}}catch(t){o.e(t)}finally{o.f()}var a=null!=e&&e.startsWith("/")?"/":"",c=n.join("/"),u=n.length>0&&null!=e&&e.endsWith("/")?"/":"",s="".concat(a).concat(c).concat(u);return encodeURIComponent(s).replace(/%2F/g,"/")}return e}},{key:"computeCanonicalQuerystring",value:function(t){var e,r=t.query,n=void 0===r?{}:r,o=[],a={},c=function(t){if(t.toLowerCase()===i.U4)return"continue";o.push(t);var e=n[t];"string"==typeof e?a[t]="".concat(x(t),"=").concat(x(e)):Array.isArray(e)&&(a[t]=e.slice(0).sort().reduce((function(e,r){return e.concat(["".concat(x(t),"=").concat(x(r))])}),[]).join("&"))},u=p(Object.keys(n).sort());try{for(u.s();!(e=u.n()).done;)c(e.value)}catch(t){u.e(t)}finally{u.f()}return o.map((function(t){return a[t]})).filter((function(t){return t})).join("&")}},{key:"computeCanonicalHeaders",value:function(t,e,r){var n,o=t.headers,a={},c=p(Object.keys(o).sort());try{for(c.s();!(n=c.n()).done;){var u=n.value;if(null!=o[u]){var s=u.toLowerCase();(s in i.Aq||null!=e&&e.has(s))&&(!r||r&&!r.has(s))||(a[s]=o[u].trim().replace(/\s+/g," "))}}}catch(t){c.e(t)}finally{c.f()}return a}},{key:"computePayloadHash",value:function(t){var e=t.headers,r=t.body;return e[i.R$]?e[i.R$]:null==r?i.sH:"string"==typeof r||(0,u.e)(r)?o().sha256(r,"hex").toLowerCase():ArrayBuffer.isView(r)?o().sha256(r.buffer,"hex").toLowerCase():i.n8}},{key:"moveHeadersToQuery",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=JSON.parse(JSON.stringify(t)),n=r.headers,o=r.query,i=void 0===o?{}:o,a=0,c=Object.keys(n);a<c.length;a++){var u,s=c[a],f=s.toLowerCase();"x-amz-"!==f.slice(0,6)||null!==(u=e.unhoistableHeaders)&&void 0!==u&&u.has(f)||(i[s]=n[s],delete n[s])}return v(v({},r),{},{headers:n,query:i})}},{key:"serializeQueryParameters",value:function(t,e){var r,n=[],o={},i=function(r){if(null!=e&&e.includes(r.toLowerCase()))return"continue";n.push(r);var i=t[r];"string"==typeof i?o[r]="".concat(x(r),"=").concat(x(i)):Array.isArray(i)&&(o[r]=i.slice(0).sort().reduce((function(t,e){return t.concat(["".concat(x(r),"=").concat(x(e))])}),[]).join("&"))},a=p(Object.keys(t).sort());try{for(a.s();!(r=a.n()).done;)i(r.value)}catch(t){a.e(t)}finally{a.f()}return n.map((function(t){return o[t]})).filter((function(t){return t})).join("&")}}]),t}(),j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(r,t);var e=l(r);function r(t,n){var o;return m(this,r),(o=e.call(this,t,n)).name="InvalidSignatureError",o}return b(r)}(a.t);function x(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%".concat(t.charCodeAt(0).toString(16).toUpperCase())}))}function _(t){var e,r=(e=t,function(t){return"number"==typeof t?new Date(1e3*t):"string"==typeof t?Number(t)?new Date(1e3*Number(t)):new Date(t):t}(e).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:r,shortDate:r.slice(0,8)}}},23:(t,e,r)=>{"use strict";function n(t){return"function"==typeof ArrayBuffer&&(t instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(t))}function o(t){return Object.keys(t).reduce((function(e,r){var n=t[r];return null!=n&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(n))),e}),[]).join("&")}r.d(e,{C:()=>o,e:()=>n})},41:(t,e,r)=>{"use strict";r.d(e,{SQSClient:()=>P});var n=r(137),o=r(393),i=r(409),a=r.n(i),c=r(23),u=r(380);function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function l(t,e,r,o){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),c=new E(o||[]);return n(a,"_invoke",{value:j(t,r,c)}),a}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var p={};function d(){}function y(){}function v(){}var m={};u(m,i,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(k([])));b&&b!==e&&r.call(b,i)&&(m=b);var w=v.prototype=d.prototype=Object.create(m);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function o(n,i,a,c){var u=h(t[n],t,i);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==s(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function j(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return L()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===p)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return y.prototype=v,n(w,"constructor",{value:v,configurable:!0}),n(v,"constructor",{value:y,configurable:!0}),y.displayName=u(v,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new O(l(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(w),u(w,c,"Generator"),u(w,i,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},t}function l(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?l(Object(r),!0).forEach((function(e){j(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function d(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){p(i,n,o,a,c,"next",t)}function c(t){p(i,n,o,a,c,"throw",t)}a(void 0)}))}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function m(t,e,r){return e&&v(t.prototype,e),r&&v(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=O(t);if(e){var o=O(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return S(t)}(this,r)}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function j(t,e,r){return(e=x(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function x(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}var _="2012-11-05",P=function(t){g(i,t);var e,r,o=w(i);function i(t){var e;return y(this,i),j(S(e=o.call(this,t,"sqs")),"signature",void 0),j(S(e),"commonHeaders",void 0),e.signature=new n.L({service:e.serviceName,region:e.awsConfig.region,credentials:{accessKeyId:e.awsConfig.accessKeyId,secretAccessKey:e.awsConfig.secretAccessKey,sessionToken:e.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!0}),e.commonHeaders={"Content-Type":"application/x-www-form-urlencoded"},e}return m(i,[{key:"sendMessage",value:(r=d(f().mark((function t(e,r){var n,o,i,u,s,l=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={Action:"SendMessage",Version:_,QueueUrl:e,MessageBody:r},void 0!==(n=l.length>2&&void 0!==l[2]?l[2]:{}).messageDeduplicationId&&(o=h(h({},o),{},{MessageDeduplicationId:n.messageDeduplicationId})),void 0!==n.messageGroupId&&(o=h(h({},o),{},{MessageGroupId:n.messageGroupId})),i=this.signature.sign({method:"POST",protocol:this.scheme,hostname:this.host,path:"/",headers:h({},this.commonHeaders),body:(0,c.C)(o)},{}),t.next=8,a().asyncRequest("POST",i.url,i.body||"",{headers:i.headers});case 8:return u=t.sent,this._handleError("SendMessage",u),s=u.html("SendMessageResponse > SendMessageResult"),t.abrupt("return",new E(s.find("MessageId").text(),s.find("MD5OfMessageBody").text()));case 12:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"listQueues",value:(e=d(f().mark((function t(){var e,r,n,o,i,u=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={Action:"ListQueues",Version:_},void 0!==(null==(e=u.length>0&&void 0!==u[0]?u[0]:{})?void 0:e.maxResults)&&(r=h(h({},r),{},{MaxResults:e.maxResults})),void 0!==(null==e?void 0:e.nextToken)&&(r=h(h({},r),{},{NextToken:e.nextToken})),void 0!==(null==e?void 0:e.queueNamePrefix)&&(r=h(h({},r),{},{QueueNamePrefix:e.queueNamePrefix})),n=this.signature.sign({method:"POST",protocol:this.scheme,hostname:this.host,path:"/",headers:h(h({},this.commonHeaders),{},{Host:this.host}),body:(0,c.C)(r)},{}),t.next=9,a().asyncRequest("POST",n.url,n.body||"",{headers:n.headers});case 9:return o=t.sent,this._handleError("ListQueues",o),i=o.html(),t.abrupt("return",{urls:i.find("QueueUrl").toArray().map((function(t){return t.text()})),nextToken:i.find("NextToken").text()||void 0});case 13:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_handleError",value:function(t,e){var r=e.error_code;if(""!=e.error||0!==r){var o=u.t.parseXML(e.body);if("AuthorizationHeaderMalformed"===o.code)throw new n.w(o.message,o.code);throw new k(o.message,o.code||"unknown",t)}}}]),i}(o.k),E=m((function t(e,r){y(this,t),j(this,"id",void 0),j(this,"bodyMD5",void 0),this.id=e,this.bodyMD5=r})),k=function(t){g(r,t);var e=w(r);function r(t,n,o){var i;return y(this,r),j(S(i=e.call(this,t,n)),"operation",void 0),i.name="SQSServiceError",i.operation=o,i}return m(r)}(u.t)},877:(t,e,r)=>{var n=r(570),o=r(171),i=o;i.v1=n,i.v4=o,t.exports=i},327:t=>{for(var e=[],r=0;r<256;++r)e[r]=(r+256).toString(16).substr(1);t.exports=function(t,r){var n=r||0,o=e;return[o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],"-",o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]],o[t[n++]]].join("")}},217:t=>{var e="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(e){var r=new Uint8Array(16);t.exports=function(){return e(r),r}}else{var n=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}}},570:(t,e,r)=>{var n,o,i=r(217),a=r(327),c=0,u=0;t.exports=function(t,e,r){var s=e&&r||0,f=e||[],l=(t=t||{}).node||n,h=void 0!==t.clockseq?t.clockseq:o;if(null==l||null==h){var p=i();null==l&&(l=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=o=16383&(p[6]<<8|p[7]))}var d=void 0!==t.msecs?t.msecs:(new Date).getTime(),y=void 0!==t.nsecs?t.nsecs:u+1,v=d-c+(y-u)/1e4;if(v<0&&void 0===t.clockseq&&(h=h+1&16383),(v<0||d>c)&&void 0===t.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=y,o=h;var m=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;f[s++]=m>>>24&255,f[s++]=m>>>16&255,f[s++]=m>>>8&255,f[s++]=255&m;var g=d/4294967296*1e4&268435455;f[s++]=g>>>8&255,f[s++]=255&g,f[s++]=g>>>24&15|16,f[s++]=g>>>16&255,f[s++]=h>>>8|128,f[s++]=255&h;for(var b=0;b<6;++b)f[s+b]=l[b];return e||a(f)}},171:(t,e,r)=>{var n=r(217),o=r(327);t.exports=function(t,e,r){var i=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var c=0;c<16;++c)e[i+c]=a[c];return e||o(a)}},400:t=>{"use strict";t.exports=require("k6/crypto")},255:t=>{"use strict";t.exports=require("k6/html")},409:t=>{"use strict";t.exports=require("k6/http")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};(()=>{"use strict";r.r(n),r.d(n,{AMZ_CONTENT_SHA256_HEADER:()=>m.R$,AWSConfig:()=>y,InvalidAWSConfigError:()=>v,InvalidSignatureError:()=>t.w,KMSClient:()=>G,KMSDataKey:()=>q,KMSServiceError:()=>H,KinesisClient:()=>de,S3Bucket:()=>at,S3Client:()=>it,S3Object:()=>ct,S3ServiceError:()=>ft,SQSClient:()=>Xt.SQSClient,Secret:()=>Lt,SecretsManagerClient:()=>kt,SecretsManagerServiceError:()=>Nt,SignatureV4:()=>t.L,SystemsManagerClient:()=>Vt,SystemsManagerParameter:()=>Wt,SystemsManagerServiceError:()=>Qt,UNSIGNED_PAYLOAD:()=>m.n8});var t=r(137);function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function o(t){var r=c();return function(){var n,o=s(t);if(r){var i=s(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return function(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,n)}}function i(t){var e="function"==typeof Map?new Map:void 0;return i=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return a(t,arguments,s(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,t)},i(t)}function a(t,e,r){return a=c()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(t,n));return r&&u(o,r.prototype),o},a.apply(null,arguments)}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function u(t,e){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},u(t,e)}function s(t){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},s(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d(n.key),n)}}function h(t,e,r){return e&&l(t.prototype,e),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function p(t,e,r){return(e=d(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d(t){var r=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,r||"default");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===e(r)?r:String(r)}var y=function(){function t(e){if(f(this,t),p(this,"region",void 0),p(this,"accessKeyId",void 0),p(this,"secretAccessKey",void 0),p(this,"sessionToken",void 0),p(this,"scheme","https"),p(this,"endpoint","amazonaws.com"),!e.region||""===e.region)throw new v('invalid AWS region; reason: expected a valid AWS region name (e.g. "us-east-1"), got `'.concat(e.region,"`"));if(!e.accessKeyId||""===e.accessKeyId)throw new v("invalid AWS access key ID; reason: expected a non empty string, got `".concat(e.accessKeyId,"`"));if(e.accessKeyId.length<16||e.accessKeyId.length>128)throw new v("invalid AWS access key ID; reason: size should be between 16 and 128 characters, got ".concat(e.accessKeyId.length));if(!e.secretAccessKey||""===e.secretAccessKey)throw new v("invalid AWS secret access key; reason: expected a non empty string, got `".concat(e.secretAccessKey,"`"));if(e.secretAccessKey.length<16||e.secretAccessKey.length>128)throw new v("invalid AWS secret access key; reason: size should be between 16 and 128 characters, got ".concat(e.secretAccessKey.length));this.region=e.region,this.accessKeyId=e.accessKeyId,this.secretAccessKey=e.secretAccessKey,void 0!==e.sessionToken&&(this.sessionToken=e.sessionToken),void 0!==e.scheme&&(this.scheme=e.scheme),void 0!==e.endpoint&&(this.endpoint=e.endpoint)}return h(t,null,[{key:"fromEnvironment",value:function(e){return new t({region:__ENV.AWS_REGION,accessKeyId:__ENV.AWS_ACCESS_KEY_ID,secretAccessKey:__ENV.AWS_SECRET_ACCESS_KEY,sessionToken:__ENV.AWS_SESSION_TOKEN,scheme:null==e?void 0:e.scheme,endpoint:null==e?void 0:e.endpoint})}}]),t}(),v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(r,t);var e=o(r);function r(t){return f(this,r),e.call(this,t)}return h(r)}(i(Error)),m=r(592),g=r(409),b=r.n(g),w=r(393),S=r(380);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function j(){j=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new E(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(k([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==O(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return L()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function x(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function k(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=k,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:k(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){D(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function E(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){P(i,n,o,a,c,"next",t)}function c(t){P(i,n,o,a,c,"throw",t)}a(void 0)}))}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,K(n.key),n)}}function N(t,e,r){return e&&L(t.prototype,e),r&&L(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}function R(t,e){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},R(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=I(t);if(e){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return A(t)}(this,r)}}function A(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},I(t)}function D(t,e,r){return(e=K(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K(t){var e=function(t,e){if("object"!==O(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===O(e)?e:String(e)}var G=function(e){T(i,e);var r,n,o=C(i);function i(e){var r;return k(this,i),D(A(r=o.call(this,e,"kms")),"method",void 0),D(A(r),"commonHeaders",void 0),D(A(r),"signature",void 0),r.signature=new t.L({service:r.serviceName,region:e.region,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return N(i,[{key:"listKeys",value:(n=E(j().mark((function t(){var e,r,n;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:_(_({},this.commonHeaders),{},D({},m.mc,"TrentService.ListKeys")),body:JSON.stringify({})},{}),t.next=3,b().asyncRequest(this.method,e.url,e.body,{headers:e.headers});case 3:return r=t.sent,this._handle_error(z.ListKeys,r),n=r.json("Keys"),t.abrupt("return",n.map((function(t){return M.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"generateDataKey",value:(r=E(j().mark((function t(e){var r,n,o,i=arguments;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:F.Size256,n=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:_(_({},this.commonHeaders),{},D({},m.mc,"TrentService.GenerateDataKey")),body:JSON.stringify({KeyId:e,NumberOfBytes:r})},{}),t.next=4,b().asyncRequest(this.method,n.url,n.body,{headers:n.headers});case 4:return o=t.sent,this._handle_error(z.GenerateDataKey,o),t.abrupt("return",q.fromJSON(o.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.w(i,o.__type);throw new H(i,o.__type,e)}if(1500===n)throw new H("An error occured on the server side","InternalServiceError",e)}}}]),i}(w.k),M=function(){function t(e,r){k(this,t),D(this,"keyArn",void 0),D(this,"keyId",void 0),this.keyArn=e,this.keyId=r}return N(t,null,[{key:"fromJSON",value:function(e){return new t(e.KeyArn,e.KeyId)}}]),t}(),q=function(){function t(e,r,n){k(this,t),D(this,"id",void 0),D(this,"ciphertextBlob",void 0),D(this,"plaintext",void 0),this.ciphertextBlob=e,this.id=r,this.plaintext=n}return N(t,null,[{key:"fromJSON",value:function(e){return new t(e.CiphertextBlob,e.KeyId,e.Plaintext)}}]),t}(),H=function(t){T(r,t);var e=C(r);function r(t,n,o){var i;return k(this,r),D(A(i=e.call(this,t,n)),"operation",void 0),i.name="KMSServiceError",i.operation=o,i}return N(r)}(S.t),z=function(t){return t.GenerateDataKey="GenerateDataKey",t.ListKeys="ListKeys",t}(z||{}),F=function(t){return t[t.Size256=32]="Size256",t[t.Size512=64]="Size512",t}(F||{}),J=r(255);function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function U(){U=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==B(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function V(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function W(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){V(i,n,o,a,c,"next",t)}function c(t){V(i,n,o,a,c,"throw",t)}a(void 0)}))}}function Q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ot(n.key),n)}}function X(t,e,r){return e&&Y(t.prototype,e),r&&Y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Z(t,e)}function Z(t,e){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Z(t,e)}function tt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rt(t);if(e){var o=rt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return et(t)}(this,r)}}function et(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rt(t)}function nt(t,e,r){return(e=ot(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ot(t){var e=function(t,e){if("object"!==B(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===B(e)?e:String(e)}var it=function(e){$(p,e);var r,n,o,i,a,c,u,s,f,l,h=tt(p);function p(e){var r;return Q(this,p),nt(et(r=h.call(this,e,"s3")),"signature",void 0),r.signature=new t.L({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),r}return X(p,[{key:"listBuckets",value:(l=W(U().mark((function t(){var e,r,n;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:"GET",protocol:this.scheme,hostname:this.host,path:"/",headers:{}},{}),t.next=4,b().asyncRequest("GET",e.url,e.body||"",{headers:e.headers});case 4:return r=t.sent,this._handle_error("ListBuckets",r),n=[],(0,J.parseHTML)(r.body).find("Buckets").children().each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"name":Object.assign(r,{name:t.textContent()});break;case"creationdate":Object.assign(r,{creationDate:Date.parse(t.textContent())})}})),n.push(r)})),t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,this)}))),function(){return l.apply(this,arguments)})},{key:"listObjects",value:(f=W(U().mark((function t(e,r){var n,o,i,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(this.host),o=this.signature.sign({method:"GET",protocol:this.scheme,hostname:n,path:"/".concat(e,"/"),query:{"list-type":"2",prefix:r||""},headers:{}},{}),t.next=5,b().asyncRequest("GET",o.url,o.body||"",{headers:o.headers});case 5:return i=t.sent,this._handle_error("ListObjectsV2",i),a=[],(0,J.parseHTML)(i.body).find("Contents").each((function(t,e){var r={};e.children().forEach((function(t){switch(t.nodeName()){case"key":Object.assign(r,{key:t.textContent()});break;case"lastmodified":Object.assign(r,{lastModified:Date.parse(t.textContent())});break;case"etag":Object.assign(r,{etag:t.textContent()});break;case"size":Object.assign(r,{size:parseInt(t.textContent())});break;case"storageclass":Object.assign(r,{storageClass:t.textContent()})}})),a.push(r)})),t.abrupt("return",a);case 10:case"end":return t.stop()}}),t,this)}))),function(t,e){return f.apply(this,arguments)})},{key:"getObject",value:(s=W(U().mark((function t(e,r){var n,o,i,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(this.host),i=this.signature.sign({method:"GET",protocol:this.scheme,hostname:o,path:"/".concat(e,"/").concat(r),headers:{}},{}),t.next=5,b().asyncRequest("GET",i.url,i.body||"",{headers:i.headers});case 5:return a=t.sent,this._handle_error("GetObject",a),t.abrupt("return",new ct(r,Date.parse(a.headers["Last-Modified"]),a.headers.ETag,parseInt(a.headers["Content-Length"]),null!==(n=a.headers["X-Amz-Storage-Class"])&&void 0!==n?n:"STANDARD",a.body));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return s.apply(this,arguments)})},{key:"putObject",value:(u=W(U().mark((function t(e,r,n){var o,i,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="".concat(this.host),i=this.signature.sign({method:"PUT",protocol:this.scheme,hostname:o,path:"/".concat(e,"/").concat(r),headers:{Host:o},body:n},{}),t.next=5,b().asyncRequest("PUT",i.url,i.body,{headers:i.headers});case 5:a=t.sent,this._handle_error("PutObject",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return u.apply(this,arguments)})},{key:"deleteObject",value:(c=W(U().mark((function t(e,r){var n,o,i,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="DELETE",o="".concat(this.host),i=this.signature.sign({method:n,protocol:this.scheme,hostname:o,path:"/".concat(e,"/").concat(r),headers:{}},{}),t.next=5,b().asyncRequest(n,i.url,i.body||"",{headers:i.headers});case 5:a=t.sent,this._handle_error("DeleteObject",a);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e){return c.apply(this,arguments)})},{key:"copyObject",value:(a=W(U().mark((function t(e,r,n,o){var i,a,c;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="".concat(n,".").concat(this.host),a=this.signature.sign({method:"PUT",protocol:this.scheme,hostname:i,path:"/".concat(o),headers:{"x-amz-copy-source":"".concat(e,"/").concat(r)}},{}),t.next=5,b().asyncRequest("PUT",a.url,a.body||null,{headers:a.headers});case 5:c=t.sent,this._handle_error("CopyObject",c);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n){return a.apply(this,arguments)})},{key:"createMultipartUpload",value:(i=W(U().mark((function t(e,r){var n,o,i,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="POST",o="".concat(e,".").concat(this.host),i=this.signature.sign({method:n,protocol:this.scheme,hostname:o,path:"/".concat(r),headers:{},query:{uploads:""}},{}),t.next=5,b().asyncRequest(n,i.url,i.body||"",{headers:i.headers});case 5:return a=t.sent,this._handle_error("CreateMultipartUpload",a),t.abrupt("return",new ut(r,(0,J.parseHTML)(a.body).find("UploadId").text()));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"uploadPart",value:(o=W(U().mark((function t(e,r,n,o,i){var a,c,u;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e,".").concat(this.host),c=this.signature.sign({method:"PUT",protocol:this.scheme,hostname:a,path:"/".concat(r),headers:{},body:i,query:{partNumber:"".concat(o),uploadId:"".concat(n)}},{}),t.next=5,b().asyncRequest("PUT",c.url,c.body||"",{headers:c.headers});case 5:return u=t.sent,this._handle_error("UploadPart",u),t.abrupt("return",new st(o,u.headers.Etag));case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,i){return o.apply(this,arguments)})},{key:"completeMultipartUpload",value:(n=W(U().mark((function t(e,r,n,o){var i,a,c,u,s;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i="POST",a="".concat(e,".").concat(this.host),c="<CompleteMultipartUpload>".concat(o.map((function(t){return"<Part><PartNumber>".concat(t.partNumber,"</PartNumber><ETag>").concat(t.eTag,"</ETag></Part>")})).join(""),"</CompleteMultipartUpload>"),u=this.signature.sign({method:i,protocol:this.scheme,hostname:a,path:"/".concat(r),headers:{},body:c,query:{uploadId:"".concat(n)}},{}),t.next=6,b().asyncRequest(i,u.url,u.body||"",{headers:u.headers});case 6:s=t.sent,this._handle_error("CompleteMultipartUpload",s);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e,r,o){return n.apply(this,arguments)})},{key:"abortMultipartUpload",value:(r=W(U().mark((function t(e,r,n){var o,i,a,c;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o="DELETE",i="".concat(e,".").concat(this.host),a=this.signature.sign({method:o,protocol:this.scheme,hostname:i,path:"/".concat(r),headers:{},query:{uploadId:"".concat(n)}},{}),t.next=5,b().asyncRequest(o,a.url,a.body||"",{headers:a.headers});case 5:c=t.sent,this._handle_error("AbortMultipartUpload",c);case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,n){return r.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.status,o=r.error_code,i=r.error;if(!(n>=200&&n<300&&""==i&&0===o)){if(301==n||i&&i.startsWith("301"))throw new ft("Resource not found","ResourceNotFound",e);var a=S.t.parseXML(r.body);if("AuthorizationHeaderMalformed"===a.code)throw new t.w(a.message,a.code);throw new ft(a.message,a.code||"unknown",e)}}}]),p}(w.k),at=X((function t(e,r){Q(this,t),nt(this,"name",void 0),nt(this,"creationDate",void 0),this.name=e,this.creationDate=r})),ct=X((function t(e,r,n,o,i,a){Q(this,t),nt(this,"key",void 0),nt(this,"lastModified",void 0),nt(this,"etag",void 0),nt(this,"size",void 0),nt(this,"storageClass",void 0),nt(this,"data",void 0),this.key=e,this.lastModified=r,this.etag=n,this.size=o,this.storageClass=i,this.data=a})),ut=X((function t(e,r){Q(this,t),nt(this,"key",void 0),nt(this,"uploadId",void 0),this.key=e,this.uploadId=r})),st=X((function t(e,r){Q(this,t),nt(this,"partNumber",void 0),nt(this,"eTag",void 0),this.partNumber=e,this.eTag=r})),ft=function(t){$(r,t);var e=tt(r);function r(t,n,o){var i;return Q(this,r),nt(et(i=e.call(this,t,n)),"operation",void 0),i.name="S3ServiceError",i.operation=o,i}return X(r)}(S.t),lt=r(877);function ht(t){return ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function pt(){pt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==ht(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function dt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(r),!0).forEach((function(e){Pt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function vt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function mt(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){vt(i,n,o,a,c,"next",t)}function c(t){vt(i,n,o,a,c,"throw",t)}a(void 0)}))}}function gt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Et(n.key),n)}}function wt(t,e,r){return e&&bt(t.prototype,e),r&&bt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function St(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ot(t,e)}function Ot(t,e){return Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ot(t,e)}function jt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=_t(t);if(e){var o=_t(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===ht(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xt(t)}(this,r)}}function xt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _t(t){return _t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_t(t)}function Pt(t,e,r){return(e=Et(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Et(t){var e=function(t,e){if("object"!==ht(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===ht(e)?e:String(e)}var kt=function(e){St(u,e);var r,n,o,i,a,c=jt(u);function u(e){var r;return gt(this,u),Pt(xt(r=c.call(this,e,"secretsmanager")),"method",void 0),Pt(xt(r),"commonHeaders",void 0),Pt(xt(r),"signature",void 0),r.signature=new t.L({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!0,applyChecksum:!1}),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return wt(u,[{key:"listSecrets",value:(a=mt(pt().mark((function t(){var e,r,n;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:yt(yt({},this.commonHeaders),{},Pt({},m.mc,"".concat(this.serviceName,".ListSecrets"))),body:JSON.stringify({})},{}),t.next=3,b().asyncRequest(this.method,e.url,e.body,{headers:e.headers});case 3:return r=t.sent,this._handle_error(Tt.ListSecrets,r),n=r.json("SecretList"),t.abrupt("return",n.map((function(t){return Lt.fromJSON(t)})));case 7:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"getSecret",value:(i=mt(pt().mark((function t(e){var r,n;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:yt(yt({},this.commonHeaders),{},Pt({},m.mc,"".concat(this.serviceName,".GetSecretValue"))),body:JSON.stringify({SecretId:e})},{}),t.next=3,b().asyncRequest(this.method,r.url,r.body,{headers:r.headers});case 3:return n=t.sent,this._handle_error(Tt.GetSecretValue,n),t.abrupt("return",Lt.fromJSON(n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"createSecret",value:(o=mt(pt().mark((function t(e,r,n,o,i){var a,c;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=o||(0,lt.v4)(),a=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:yt(yt({},this.commonHeaders),{},Pt({},m.mc,"".concat(this.serviceName,".CreateSecret"))),body:JSON.stringify({Name:e,Description:n,SecretString:r,ClientRequestToken:o,Tags:i})},{}),t.next=4,b().asyncRequest(this.method,a.url,a.body,{headers:a.headers});case 4:return c=t.sent,this._handle_error(Tt.CreateSecret,c),t.abrupt("return",Lt.fromJSON(c.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r,n,i){return o.apply(this,arguments)})},{key:"putSecretValue",value:(n=mt(pt().mark((function t(e,r,n){var o,i;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=n||(0,lt.v4)(),o=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:yt(yt({},this.commonHeaders),{},Pt({},m.mc,"".concat(this.serviceName,".PutSecretValue"))),body:JSON.stringify({SecretId:e,SecretString:r,ClientRequestToken:n})},{}),t.next=4,b().asyncRequest(this.method,o.url,o.body,{headers:o.headers});case 4:return i=t.sent,this._handle_error(Tt.PutSecretValue,i),t.abrupt("return",Lt.fromJSON(i.json()));case 7:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"deleteSecret",value:(r=mt(pt().mark((function t(e,r){var n,o,i,a,c,u;return pt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.recoveryWindow,o=void 0===n?30:n,i=r.noRecovery,a={SecretId:e},!0===(void 0!==i&&i)?a.ForceDeleteWithoutRecovery=!0:a.RecoveryWindowInDays=o,c=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:yt(yt({},this.commonHeaders),{},Pt({},m.mc,"".concat(this.serviceName,".DeleteSecret"))),body:JSON.stringify(a)},{}),t.next=6,b().asyncRequest(this.method,c.url,c.body,{headers:c.headers});case 6:u=t.sent,this._handle_error(Tt.DeleteSecret,u);case 8:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.w(i,o.__type);throw new Nt(i,o.__type,e)}if(1500===n)throw new Nt("An error occured on the server side","InternalServiceError",e)}}}]),u}(w.k),Lt=function(){function t(e,r,n,o,i,a){var c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[];gt(this,t),Pt(this,"name",void 0),Pt(this,"arn",void 0),Pt(this,"secret",void 0),Pt(this,"createdDate",void 0),Pt(this,"lastAccessedDate",void 0),Pt(this,"lastChangedDate",void 0),Pt(this,"tags",void 0),this.name=e,this.arn=r,this.secret=n,this.createdDate=o,this.lastAccessedDate=i,this.lastChangedDate=a,this.tags=c}return wt(t,null,[{key:"fromJSON",value:function(e){return new t(e.Name,e.ARN,e.SecretString,e.CreatedDate,e.LastAccessedDate,e.LastChangedDate,e.Tags)}}]),t}(),Nt=function(t){St(r,t);var e=jt(r);function r(t,n,o){var i;return gt(this,r),Pt(xt(i=e.call(this,t,n)),"operation",void 0),i.name="SecretsManagerServiceError",i.operation=o,i}return wt(r)}(S.t),Tt=function(t){return t.ListSecrets="ListSecrets",t.GetSecretValue="GetSecretValue",t.CreateSecret="CreateSecret",t.PutSecretValue="PutSecretValue",t.DeleteSecret="DeleteSecret",t}(Tt||{});function Rt(t){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Ct(){Ct=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==Rt(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function At(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function It(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?At(Object(r),!0).forEach((function(e){Bt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):At(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Dt(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Kt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ut(n.key),n)}}function Mt(t,e,r){return e&&Gt(t.prototype,e),r&&Gt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function qt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ht(t,e)}function Ht(t,e){return Ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ht(t,e)}function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jt(t);if(e){var o=Jt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===Rt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ft(t)}(this,r)}}function Ft(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jt(t){return Jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jt(t)}function Bt(t,e,r){return(e=Ut(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ut(t){var e=function(t,e){if("object"!==Rt(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==Rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Rt(e)?e:String(e)}var Vt=function(e){qt(i,e);var r,n,o=zt(i);function i(e){var r;return Kt(this,i),Bt(Ft(r=o.call(this,e,"ssm")),"method",void 0),Bt(Ft(r),"commonHeaders",void 0),Bt(Ft(r),"signature",void 0),r.method="POST",r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r.signature=new t.L({service:r.serviceName,region:e.region,credentials:{accessKeyId:e.accessKeyId,secretAccessKey:e.secretAccessKey},uriEscapePath:!0,applyChecksum:!1}),r}return Mt(i,[{key:"getParameter",value:(r=Ct().mark((function t(e){var r,n,o,i=arguments;return Ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=i.length>1&&void 0!==i[1]&&i[1],n=this.signature.sign({method:this.method,protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:It(It({},this.commonHeaders),{},Bt({},m.mc,"AmazonSSM.GetParameter")),body:JSON.stringify({Name:e,WithDecryption:r})},{}),t.next=4,b().asyncRequest(this.method,n.url,n.body,{headers:n.headers});case 4:return o=t.sent,this._handle_error(Yt.GetParameter,o),t.abrupt("return",Wt.fromJSON(o.json()));case 7:case"end":return t.stop()}}),t,this)})),n=function(){var t=this,e=arguments;return new Promise((function(n,o){var i=r.apply(t,e);function a(t){Dt(i,n,o,a,c,"next",t)}function c(t){Dt(i,n,o,a,c,"throw",t)}a(void 0)}))},function(t){return n.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.w(i,o.__type);throw new Qt(i,o.__type,e)}if(1500===n)throw new Qt("An error occured on the server side","InternalServiceError",e)}}}]),i}(w.k),Wt=function(){function t(e,r,n,o,i,a,c,u,s){Kt(this,t),Bt(this,"arn",void 0),Bt(this,"dataType",void 0),Bt(this,"lastModifiedDate",void 0),Bt(this,"name",void 0),Bt(this,"selector",void 0),Bt(this,"sourceResult",void 0),Bt(this,"type",void 0),Bt(this,"value",void 0),Bt(this,"version",void 0),this.arn=e,this.dataType=r,this.lastModifiedDate=n,this.name=o,this.selector=i,this.sourceResult=a,this.type=c,this.value=u,this.version=s}return Mt(t,null,[{key:"fromJSON",value:function(e){var r=e.Parameter;return new t(r.ARN,r.DataType,r.LastModifiedDate,r.Name,r.Selector,r.SourceResult,r.Type,r.Value,r.Version)}}]),t}(),Qt=function(t){qt(r,t);var e=zt(r);function r(t,n,o){var i;return Kt(this,r),Bt(Ft(i=e.call(this,t,n)),"operation",void 0),i.name="SystemsManagerServiceError",i.operation=o,i}return Mt(r)}(S.t),Yt=function(t){return t.GetParameter="GetParameter",t}(Yt||{}),Xt=r(41);function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Zt(){Zt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(t,e,r){t[e]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function s(t,e,r,o){var i=e&&e.prototype instanceof h?e:h,a=Object.create(i.prototype),c=new _(o||[]);return n(a,"_invoke",{value:S(t,r,c)}),a}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function h(){}function p(){}function d(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(P([])));m&&m!==e&&r.call(m,i)&&(y=m);var g=d.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function o(n,i,a,c){var u=f(t[n],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==$t(l)&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){o("next",t,a,c)}),(function(t){o("throw",t,a,c)})):e.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return o("throw",t,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return i=i?i.then(n,n):n()}})}function S(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return E()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,O(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),l;var o=f(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,l;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function P(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=d,n(g,"constructor",{value:d,configurable:!0}),n(d,"constructor",{value:p,configurable:!0}),p.displayName=u(d,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,u(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),u(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var a=new w(s(e,r,n,o),i);return t.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},t.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function te(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ee(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?te(Object(r),!0).forEach((function(e){he(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(t,e,r,n,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function ne(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){re(i,n,o,a,c,"next",t)}function c(t){re(i,n,o,a,c,"throw",t)}a(void 0)}))}}function oe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ie(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pe(n.key),n)}}function ae(t,e,r){return e&&ie(t.prototype,e),r&&ie(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ce(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ue(t,e)}function ue(t,e){return ue=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ue(t,e)}function se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=le(t);if(e){var o=le(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(t,e){if(e&&("object"===$t(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fe(t)}(this,r)}}function fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},le(t)}function he(t,e,r){return(e=pe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pe(t){var e=function(t,e){if("object"!==$t(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===$t(e)?e:String(e)}var de=function(e){ce(l,e);var r,n,o,i,a,c,u,s,f=se(l);function l(e){var r;return oe(this,l),he(fe(r=f.call(this,e,"kinesis")),"signature",void 0),he(fe(r),"commonHeaders",void 0),he(fe(r),"serviceVersion",void 0),r.serviceVersion="Kinesis_20131202",r.signature=new t.L({service:r.serviceName,region:r.awsConfig.region,credentials:{accessKeyId:r.awsConfig.accessKeyId,secretAccessKey:r.awsConfig.secretAccessKey,sessionToken:r.awsConfig.sessionToken},uriEscapePath:!1,applyChecksum:!0}),r.commonHeaders={"Content-Type":"application/x-amz-json-1.1"},r}return ae(l,[{key:"createStream",value:(s=ne(Zt().mark((function t(e){var r,n,o=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ee(ee({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).shardCount&&{ShardCount:r.shardCount}),r.streamModeDetails&&{StreamMode:r.streamModeDetails.streamMode}),t.next=4,this._send_request("CreateStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return s.apply(this,arguments)})},{key:"deleteStream",value:(u=ne(Zt().mark((function t(e){var r,n,o=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ee(ee({StreamName:e},(r=o.length>1&&void 0!==o[1]?o[1]:{}).streamARN&&{StreamARN:r.streamARN}),r.enforceConsumerDeletion&&{EnforceConsumerDeletion:r.enforceConsumerDeletion}),t.next=4,this._send_request("DeleteStream",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t){return u.apply(this,arguments)})},{key:"listStreams",value:(c=ne(Zt().mark((function t(){var e,r,n,o=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=ee(ee(ee({},(e=o.length>0&&void 0!==o[0]?o[0]:{}).exclusiveStartStreamName&&{ExclusiveStartStreamName:e.exclusiveStartStreamName}),e.limit&&{Limit:e.limit}),e.nextToken&&{NextToken:e.nextToken}),t.next=4,this._send_request("ListStreams",r);case 4:return n=t.sent,t.abrupt("return",ve.fromJson(null==n?void 0:n.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(){return c.apply(this,arguments)})},{key:"putRecords",value:(a=ne(Zt().mark((function t(e){var r,n,o,i=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((r=i.length>1&&void 0!==i[1]?i[1]:{}).streamName||r.streamARN){t.next=3;break}throw new Error("Either streamName or streamARN must be provided");case 3:return n=ee(ee({Records:e},r.streamName&&{StreamName:r.streamName}),r.streamARN&&{StreamARN:r.streamARN}),t.next=6,this._send_request("PutRecords",n);case 6:return o=t.sent,t.abrupt("return",ge.fromJson(null==o?void 0:o.json()));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"getRecords",value:(i=ne(Zt().mark((function t(e){var r,n,o,i=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ee(ee({ShardIterator:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).limit&&{Limit:r.limit}),r.streamARN&&{StreamARN:r.streamARN}),t.next=4,this._send_request("GetRecords",n);case 4:return o=t.sent,t.abrupt("return",we.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return i.apply(this,arguments)})},{key:"listShards",value:(o=ne(Zt().mark((function t(e){var r,n,o,i=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ee(ee({StreamName:e},(r=i.length>1&&void 0!==i[1]?i[1]:{}).nextToken&&{NextToken:r.nextToken}),r.maxResults&&{MaxResults:r.maxResults}),t.next=4,this._send_request("ListShards",n);case 4:return o=t.sent,t.abrupt("return",Oe.fromJson(null==o?void 0:o.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"getShardIterator",value:(n=ne(Zt().mark((function t(e,r,n){var o,i,a,c=arguments;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=ee(ee({StreamName:e,ShardId:r,ShardIteratorType:n},(o=c.length>3&&void 0!==c[3]?c[3]:{}).startingSequenceNumber&&{StartingSequenceNumber:o.startingSequenceNumber}),o.timestamp&&{Timestamp:o.timestamp}),t.next=4,this._send_request("GetShardIterator",i);case 4:return a=t.sent,t.abrupt("return",xe.fromJson(null==a?void 0:a.json()));case 6:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return n.apply(this,arguments)})},{key:"_send_request",value:(r=ne(Zt().mark((function t(e,r){var n,o;return Zt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.signature.sign({method:"POST",protocol:this.awsConfig.scheme,hostname:this.host,path:"/",headers:ee(ee({},this.commonHeaders),{},he({},m.mc,"".concat(this.serviceVersion,".").concat(e))),body:JSON.stringify(r)},{}),t.next=3,b().asyncRequest("POST",n.url,n.body,{headers:n.headers});case 3:return o=t.sent,this._handle_error(e,o),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return r.apply(this,arguments)})},{key:"_handle_error",value:function(e,r){var n=r.error_code;if(0!==n){var o=r.json();if(n>=1400&&n<=1499){var i=o.Message||o.message||o.__type;if("InvalidSignatureException"===o.__type)throw new t.w(i,o.__type);throw new ye(i,o.__type,e)}if(1500===n)throw new ye("An error occured on the server side","InternalServiceError",e)}}}]),l}(w.k),ye=function(t){ce(r,t);var e=se(r);function r(t,n,o){var i;return oe(this,r),he(fe(i=e.call(this,t,n)),"operation",void 0),i.name="KinesisServiceError",i.operation=o,i}return ae(r)}(S.t),ve=function(){function t(e,r,n,o){oe(this,t),he(this,"HasMoreStreams",void 0),he(this,"NextToken",void 0),he(this,"StreamNames",void 0),he(this,"StreamSummaries",void 0),this.HasMoreStreams=e,this.NextToken=r,this.StreamNames=n,this.StreamSummaries=o}return ae(t,null,[{key:"fromJson",value:function(e){var r=e.HasMoreStreams,n=void 0!==r&&r,o=e.NextToken,i=void 0===o?"":o,a=e.StreamNames,c=void 0===a?[]:a,u=e.StreamSummaries,s=void 0===u?[]:u;return new t(n,i,c.map((function(t){return String(t)})),s.map(me.fromJson))}}]),t}(),me=function(){function t(e,r,n,o,i){oe(this,t),he(this,"StreamARN",void 0),he(this,"StreamCreationTimestamp",void 0),he(this,"StreamModeDetails",void 0),he(this,"StreamName",void 0),he(this,"StreamStatus",void 0),this.StreamARN=e,this.StreamCreationTimestamp=r,this.StreamModeDetails=n,this.StreamName=o,this.StreamStatus=i}return ae(t,null,[{key:"fromJson",value:function(e){var r=e.StreamARN,n=void 0===r?"":r,o=e.StreamCreationTimestamp,i=void 0===o?0:o,a=e.StreamModeDetails,c=void 0===a?{}:a,u=e.StreamName,s=void 0===u?"":u,f=e.StreamStatus;return new t(n,i,c,s,void 0===f?"":f)}}]),t}(),ge=function(){function t(e,r,n){oe(this,t),he(this,"EncryptionType",void 0),he(this,"FailedRecordCount",void 0),he(this,"Records",void 0),this.EncryptionType=e,this.FailedRecordCount=r,this.Records=n}return ae(t,null,[{key:"fromJson",value:function(e){var r=e.EncryptionType,n=void 0===r?"NONE":r,o=e.FailedRecordCount,i=void 0===o?0:o,a=e.Records;return new t(n,i,(void 0===a?[]:a).map((function(t){return be.fromJson(t)})))}}]),t}(),be=function(){function t(e,r){oe(this,t),he(this,"SequenceNumber",void 0),he(this,"ShardId",void 0),this.SequenceNumber=e,this.ShardId=r}return ae(t,null,[{key:"fromJson",value:function(e){return new t(e.SequenceNumber,e.ShardId)}}]),t}(),we=function(){function t(e,r){oe(this,t),he(this,"NextShardIterator",void 0),he(this,"Records",void 0),this.NextShardIterator=e,this.Records=r}return ae(t,null,[{key:"fromJson",value:function(e){var r=e.NextShardIterator,n=void 0===r?"":r,o=e.Records;return new t(n,(void 0===o?[]:o).map((function(t){return Se.fromJson(t)})))}}]),t}(),Se=function(){function t(e,r,n){oe(this,t),he(this,"Data",void 0),he(this,"PartitionKey",void 0),he(this,"SequenceNumber",void 0),this.Data=e,this.PartitionKey=r,this.SequenceNumber=n}return ae(t,null,[{key:"fromJson",value:function(e){return new t(e.Data,e.PartitionKey,e.SequenceNumber)}}]),t}(),Oe=function(){function t(e,r){oe(this,t),he(this,"Shards",void 0),he(this,"NextToken",void 0),this.Shards=e,this.NextToken=r}return ae(t,null,[{key:"fromJson",value:function(e){var r=e.Shards,n=void 0===r?[]:r,o=e.NextToken;return new t(n.map((function(t){return je.fromJson(t)})),o)}}]),t}(),je=function(){function t(e,r,n,o,i){oe(this,t),he(this,"Id",void 0),he(this,"ParentShardId",void 0),he(this,"AdjacentParentShardId",void 0),he(this,"HashKeyRange",void 0),he(this,"SequenceNumberRange",void 0),this.Id=e,this.ParentShardId=o,this.AdjacentParentShardId=i,this.HashKeyRange=r,this.SequenceNumberRange=n}return ae(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardId,e.HashKeyRange,e.SequenceNumberRange,e.ParentShardId,e.AdjacentParentShardId)}}]),t}(),xe=function(){function t(e){oe(this,t),he(this,"ShardIterator",void 0),this.ShardIterator=e}return ae(t,null,[{key:"fromJson",value:function(e){return new t(e.ShardIterator)}}]),t}()})();var o=exports;for(var i in n)o[i]=n[i];n.__esModule&&Object.defineProperty(o,"__esModule",{value:!0})})();
//# sourceMappingURL=index.js.map